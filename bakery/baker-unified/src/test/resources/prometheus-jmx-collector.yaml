lowercaseOutputLabelNames: true
lowercaseOutputName: true
#whitelistObjectNames: ["com.datastax.oss.driver:*", "akka:*"]
rules:
  - pattern: com.datastax.oss.driver<name=(s\d).(\S+)><>Count
    type: UNTYPED
    name: cassandra_$2_total

  - pattern: com.datastax.oss.driver<name=(s\d).(\S+)><>OneMinuteRate
    type: GAUGE
    name: cassandra_$2_rate
    labels:
      type: "1min"

  - pattern: com.datastax.oss.driver<name=(s\d).(\S+)><>FiveMinuteRate
    type: GAUGE
    name: cassandra_$2_rate
    labels:
      type: "5min"

  - pattern: com.datastax.oss.driver<name=(s\d).(\S+)><>FifteenMinuteRate
    type: GAUGE
    name: cassandra_$2_rate
    labels:
      type: "15min"

  - pattern: com.datastax.oss.driver<name=(s\d).(\S+)><>MeanRate
    type: GAUGE
    name: cassandra_$2_rate
    labels:
      type: "mean"

  - pattern: com.datastax.oss.driver<name=(s\d).(\S+)><>(\d+)thPercentile
    type: GAUGE
    name: cassandra_$2_duration_millis
    labels:
      quantile: "0.$3"

  - pattern: com.datastax.oss.driver<name=(s\d).(\S+)><>StdDev
    type: GAUGE
    name: cassandra_$2_duration_millis
    labels:
      type: "stddev"

  - pattern: com.datastax.oss.driver<name=(s\d).(\S+)><>Mean
    type: GAUGE
    name: cassandra_$2_duration_millis
    labels:
      type: "mean"

  - pattern: com.datastax.oss.driver<name=(s\d).(\S+)><>Max
    type: GAUGE
    name: cassandra_$2_duration_millis
    labels:
      type: "max"

  - pattern: akka<type=Cluster.*><>(\S+)
    type: UNTYPED
    name: akka_$1
