apiVersion: ing-bank.github.io/v1
kind: Baker
metadata:
  name: webshop-baker
spec:
  image: bakery-baker:local
  kafkaBootstrapServers: kafka-event-sink:9092
  replicas: 1
  recipes:
    - CgdXZWJzaG9wErEQChYKFAoQdW5hdmFpbGFibGVJdGVtcxABCkVaQwo/ChdTaGlwcGluZ0FkZHJlc3NSZWNlaXZlZBIkCg9zaGlwcGluZ0FkZHJlc3MSESIPCg0KB2FkZHJlc3MSAggREAEKEwoRCg1yZXNlcnZlZEl0ZW1zEAEKCwoJCgVpdGVtcxABCg8KDQoJU2hpcEl0ZW1zEAIKnANimQMKRAoYT3JkZXJIYWRVbmF2YWlsYWJsZUl0ZW1zEigKEHVuYXZhaWxhYmxlSXRlbXMSFBoSChAiDgoMCgZpdGVtSWQSAggRCk8KDUl0ZW1zUmVzZXJ2ZWQSPgoNcmVzZXJ2ZWRJdGVtcxItIisKHQoFaXRlbXMSFBoSChAiDgoMCgZpdGVtSWQSAggRCgoKBGRhdGESAggWEkQKGE9yZGVySGFkVW5hdmFpbGFibGVJdGVtcxIoChB1bmF2YWlsYWJsZUl0ZW1zEhQaEgoQIg4KDAoGaXRlbUlkEgIIERJPCg1JdGVtc1Jlc2VydmVkEj4KDXJlc2VydmVkSXRlbXMSLSIrCh0KBWl0ZW1zEhQaEgoQIg4KDAoGaXRlbUlkEgIIEQoKCgRkYXRhEgIIFiIcCgdvcmRlcklkEhEiDwoNCgdvcmRlcklkEgIIESIdCgVpdGVtcxIUGhIKECIOCgwKBml0ZW1JZBICCBEqDFJlc2VydmVJdGVtczIMUmVzZXJ2ZUl0ZW1zUhAaDgjoBxEAAAAAAAAAQBgFCkhaRgpCChpQYXltZW50SW5mb3JtYXRpb25SZWNlaXZlZBIkChJwYXltZW50SW5mb3JtYXRpb24SDiIMCgoKBGluZm8SAggREAEKFVoTCg8KDVBheW1lbnRGYWlsZWQQAApQWk4KSgoLT3JkZXJQbGFjZWQSHAoHb3JkZXJJZBIRIg8KDQoHb3JkZXJJZBICCBESHQoFaXRlbXMSFBoSChAiDgoMCgZpdGVtSWQSAggREAEKFQoTCg9zaGlwcGluZ0FkZHJlc3MQAQpKWkgKRAoYT3JkZXJIYWRVbmF2YWlsYWJsZUl0ZW1zEigKEHVuYXZhaWxhYmxlSXRlbXMSFBoSChAiDgoMCgZpdGVtSWQSAggREAAK2wNi2AMKcQoRUGF5bWVudFN1Y2Nlc3NmdWwSXAoNc2hpcHBpbmdPcmRlchJLIkkKHQoFaXRlbXMSFBoSChAiDgoMCgZpdGVtSWQSAggRCgoKBGRhdGESAggWChwKB2FkZHJlc3MSESIPCg0KB2FkZHJlc3MSAggRCg8KDVBheW1lbnRGYWlsZWQScQoRUGF5bWVudFN1Y2Nlc3NmdWwSXAoNc2hpcHBpbmdPcmRlchJLIkkKHQoFaXRlbXMSFBoSChAiDgoMCgZpdGVtSWQSAggRCgoKBGRhdGESAggWChwKB2FkZHJlc3MSESIPCg0KB2FkZHJlc3MSAggREg8KDVBheW1lbnRGYWlsZWQiFgoQcmVjaXBlSW5zdGFuY2VJZBICCBEiPgoNcmVzZXJ2ZWRJdGVtcxItIisKHQoFaXRlbXMSFBoSChAiDgoMCgZpdGVtSWQSAggRCgoKBGRhdGESAggWIiQKD3NoaXBwaW5nQWRkcmVzcxIRIg8KDQoHYWRkcmVzcxICCBEiJAoScGF5bWVudEluZm9ybWF0aW9uEg4iDAoKCgRpbmZvEgIIESoLTWFrZVBheW1lbnQyC01ha2VQYXltZW50UhAaDgjoBxEAAAAAAAAAQBgFClVaUwpPCg1JdGVtc1Jlc2VydmVkEj4KDXJlc2VydmVkSXRlbXMSLSIrCh0KBWl0ZW1zEhQaEgoQIg4KDAoGaXRlbUlkEgIIEQoKCgRkYXRhEgIIFhAAChMKEQoNc2hpcHBpbmdPcmRlchABChlaFwoTChFTaGlwcGluZ0NvbmZpcm1lZBAACndadQpxChFQYXltZW50U3VjY2Vzc2Z1bBJcCg1zaGlwcGluZ09yZGVyEksiSQodCgVpdGVtcxIUGhIKECIOCgwKBml0ZW1JZBICCBEKCgoEZGF0YRICCBYKHAoHYWRkcmVzcxIRIg8KDQoHYWRkcmVzcxICCBEQAAoRCg8KC01ha2VQYXltZW50EAIKGAoWChJwYXltZW50SW5mb3JtYXRpb24QAQoSChAKDFJlc2VydmVJdGVtcxACCrMBYrABChMKEVNoaXBwaW5nQ29uZmlybWVkEhMKEVNoaXBwaW5nQ29uZmlybWVkIlwKDXNoaXBwaW5nT3JkZXISSyJJCh0KBWl0ZW1zEhQaEgoQIg4KDAoGaXRlbUlkEgIIEQoKCgRkYXRhEgIIFgocCgdhZGRyZXNzEhEiDwoNCgdhZGRyZXNzEgIIESoJU2hpcEl0ZW1zMglTaGlwSXRlbXNSEBoOCOgHEQAAAAAAAABAGAUKDQoLCgdvcmRlcklkEAESBggLEBAYARIGCBEQCxgBEiAIEhAKGAEiGE9yZGVySGFkVW5hdmFpbGFibGVJdGVtcxIVCBIQDBgBIg1JdGVtc1Jlc2VydmVkEgYIAhALGAESBggGEBEYARIGCAgQFBgBEgYICBADGAESBggBEAkYARIGCAkQCxgBEgYIBRASGAESBggDEAUYARIGCAwQAhgBEgYIChAAGAESBggNEBMYARIZCAQQDhgBIhFTaGlwcGluZ0NvbmZpcm1lZBIGCA8QDRgBEhkIEBAPGAEiEVBheW1lbnRTdWNjZXNzZnVsEhUIEBAHGAEiDVBheW1lbnRGYWlsZWQSBggTEAQYARIGCBQQBRgBOhA5YTJmOGMyODgwZWE4ZmMw
  config: bakery-conf
  secrets: bakery-secrets
  apiLoggingEnabled: true
#  sidecar:
#    image: nginx
#    environment:
#      SOME_VALUE: value
#      SOME_VALUE_REF: "@status.podIP"
#      configVolumeMountPath: /var/tmp
---

apiVersion: v1
kind: ConfigMap
metadata:
  name: bakery-conf
data:
  test.conf: "test = conf"

---

apiVersion: v1
data:
  cassandra.conf: DQpha2thLmV4dGVuc2lvbnMgPSBbYWtrYS5wZXJzaXN0ZW5jZS5QZXJzaXN0ZW5jZV0NCmFra2EucGVyc2lzdGVuY2Uuam91cm5hbC5wbHVnaW4gPSAiY2Fzc2FuZHJhLWpvdXJuYWwiDQpha2thLnBlcnNpc3RlbmNlLnNuYXBzaG90LXN0b3JlLnBsdWdpbiA9ICJjYXNzYW5kcmEtc25hcHNob3Qtc3RvcmUiDQpkYXRhc3RheC1qYXZhLWRyaXZlci5hZHZhbmNlZC5yZWNvbm5lY3Qtb24taW5pdCA9IHRydWUNCg0KYmFrZXIuam91cm5hbC1pbml0aWFsaXplLXRpbWVvdXQgPSAzMCBzZWNvbmRzDQpiYWtlci5lbmNyeXB0aW9uLmVuYWJsZWQgPSBvbg0KYmFrZXIuZW5jcnlwdGlvbi5zZWNyZXQgPSBzb21lMTZieXRlc2VjcmV0DQoNCmNhc3NhbmRyYS1jb25maWcgPSB7DQoNCiAgY29udGFjdC1wb2ludHMgPSBbICJjYXNzYW5kcmEiIF0NCiAga2V5c3BhY2UtYXV0b2NyZWF0ZSA9IHRydWUNCiAgdGFibGVzLWF1dG9jcmVhdGUgPSB0cnVlDQogIGtleXNwYWNlID0gImJha2VyeSINCg0KICBhdXRoZW50aWNhdGlvbi51c2VybmFtZSA9ICJjYXNzYW5kcmEiDQogIGF1dGhlbnRpY2F0aW9uLnBhc3N3b3JkID0gImNhc3NhbmRyYSINCg0KICBjYXNzYW5kcmEtMngtY29tcGF0ID0gb24NCiAgbG9nLXF1ZXJpZXMgPSB0cnVlDQoNCiAgI21ldHJpY3Mgew0KICAjICBncmFwaGl0ZSB7DQogICMgICAgdXJsID0gImdyYXBoaXRlLXNhbmRib3guZXVyb3BlLmludHJhbmV0Ig0KICAjICAgIHBvcnQgPSAiMjAwMyINCiAgIyAgICBpbnN0YW5jZS1pZCA9ICIxIg0KICAjICAgIGRhdGFjZW50ZXItbmFtZSA9ICJkYXRhY2VudGVyMSINCiAgIyAgfQ0KICAjfQ0KfQ0KDQpkYXRhc3RheC1qYXZhLWRyaXZlci5wcm9maWxlcyB7DQogIGFra2EtcGVyc2lzdGVuY2UtY2Fzc2FuZHJhLXByb2ZpbGUgew0KICAgIGJhc2ljLnJlcXVlc3QuY29uc2lzdGVuY3kgPSBMT0NBTF9RVU9SVU0NCiAgfQ0KfQ0KDQpjYXNzYW5kcmEtam91cm5hbCA9ICR7Y2Fzc2FuZHJhLWNvbmZpZ30NCmNhc3NhbmRyYS1zbmFwc2hvdC1zdG9yZSA9ICR7Y2Fzc2FuZHJhLWNvbmZpZ30NCmxpbWl0LWd1YXJkLmNhc3NhbmRyYSA9ICR7Y2Fzc2FuZHJhLWNvbmZpZ30=
kind: Secret
metadata:
  name: bakery-secrets
type: Opaque
