
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../tutorial/">
      
      
        <link rel="next" href="../error-handling/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Recipe DSL - Baker</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/ing.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#recipe-dsl" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Baker" class="md-header__button md-logo" aria-label="Baker" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Baker
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Recipe DSL
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ing-bank/baker" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    ing-bank/baker
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Baker" class="md-nav__button md-logo" aria-label="Baker" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Baker
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ing-bank/baker" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    ing-bank/baker
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quickstart guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Cookbook
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Cookbook
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Recipe DSL
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Recipe DSL
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sensory-events" class="md-nav__link">
    <span class="md-ellipsis">
      Sensory events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sensory events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#firing-limit" class="md-nav__link">
    <span class="md-ellipsis">
      Firing limit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-receive-period" class="md-nav__link">
    <span class="md-ellipsis">
      Event receive period
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactions" class="md-nav__link">
    <span class="md-ellipsis">
      Interactions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-name" class="md-nav__link">
    <span class="md-ellipsis">
      Custom name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maximum-interaction-count" class="md-nav__link">
    <span class="md-ellipsis">
      Maximum interaction count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predefined-ingredients" class="md-nav__link">
    <span class="md-ellipsis">
      Predefined ingredients
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required-events" class="md-nav__link">
    <span class="md-ellipsis">
      Required events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transform-output-events" class="md-nav__link">
    <span class="md-ellipsis">
      Transform output events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#override-input-ingredients" class="md-nav__link">
    <span class="md-ellipsis">
      Override input ingredients
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failure-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Failure strategy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recipe" class="md-nav__link">
    <span class="md-ellipsis">
      Recipe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Recipe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#retention-period" class="md-nav__link">
    <span class="md-ellipsis">
      Retention period
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checkpoint-events" class="md-nav__link">
    <span class="md-ellipsis">
      Checkpoint events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-failure-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Default failure strategy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../error-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Error handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visualizations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visualizations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fire-sensory-events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fire events and inquiry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interaction-execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interaction execution
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main-abstractions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Main Abstractions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/execution-semantics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Execution Semantics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/baker-types-and-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Baker Types and Values
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/runtime/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The Baker Runtime
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/stores/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Event Stores and Cluster Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Versions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Versions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../versions/baker-3-release-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Notes v3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../versions/baker-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migration Guide v3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../versions/baker-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migration Guide v2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../feature-comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Feature comparison
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sensory-events" class="md-nav__link">
    <span class="md-ellipsis">
      Sensory events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sensory events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#firing-limit" class="md-nav__link">
    <span class="md-ellipsis">
      Firing limit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-receive-period" class="md-nav__link">
    <span class="md-ellipsis">
      Event receive period
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactions" class="md-nav__link">
    <span class="md-ellipsis">
      Interactions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-name" class="md-nav__link">
    <span class="md-ellipsis">
      Custom name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maximum-interaction-count" class="md-nav__link">
    <span class="md-ellipsis">
      Maximum interaction count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predefined-ingredients" class="md-nav__link">
    <span class="md-ellipsis">
      Predefined ingredients
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required-events" class="md-nav__link">
    <span class="md-ellipsis">
      Required events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transform-output-events" class="md-nav__link">
    <span class="md-ellipsis">
      Transform output events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#override-input-ingredients" class="md-nav__link">
    <span class="md-ellipsis">
      Override input ingredients
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failure-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Failure strategy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recipe" class="md-nav__link">
    <span class="md-ellipsis">
      Recipe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Recipe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#retention-period" class="md-nav__link">
    <span class="md-ellipsis">
      Retention period
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checkpoint-events" class="md-nav__link">
    <span class="md-ellipsis">
      Checkpoint events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-failure-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Default failure strategy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="recipe-dsl">Recipe DSL</h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The examples in this section are set up to demonstrate specific features of the recipe DSL. The snippets are not
complete recipes. For example, some snippets only specify sensory events without any interactions,
and vice versa.</p>
</div>
<h2 id="sensory-events">Sensory events</h2>
<h3 id="firing-limit">Firing limit</h3>
<p>Sensory events can be declared with or without firing limit. The firing limit determines how many times the event is
allowed to be fired into the process. If you don't want to impose any limits, you have to explicitly declare the event
as such. If left unspecified, the firing limit defaults to 1.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Java</label><label for="__tabbed_1_2">Kotlin</label><label for="__tabbed_1_3">Scala</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">examples.java.recipes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.Recipe</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.events.FraudCheckCompleted</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.events.OrderPlaced</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.events.PaymentReceived</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">RecipeWithSensoryEvents</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Recipe</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withSensoryEventNoFiringLimit</span><span class="p">(</span><span class="n">OrderPlaced</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withSensoryEvent</span><span class="p">(</span><span class="n">PaymentReceived</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withSensoryEvent</span><span class="p">(</span><span class="n">FraudCheckCompleted</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples.kotlin.recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.ExperimentalDsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.events.FraudCheckCompleted</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.events.OrderPlaced</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.events.PaymentReceived</span>

<span class="nd">@ExperimentalDsl</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">RecipeWithSensoryEvents</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recipe</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;example&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">sensoryEvents</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">eventWithoutFiringLimit</span><span class="o">&lt;</span><span class="n">OrderPlaced</span><span class="o">&gt;</span><span class="p">()</span>
<span class="w">            </span><span class="n">event</span><span class="o">&lt;</span><span class="n">PaymentReceived</span><span class="o">&gt;</span><span class="p">()</span>
<span class="w">            </span><span class="n">event</span><span class="o">&lt;</span><span class="n">FraudCheckCompleted</span><span class="o">&gt;</span><span class="p">(</span><span class="n">maxFiringLimit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="n">recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.{</span><span class="nc">Event</span><span class="p">,</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">}</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="nn">events</span><span class="p">.{</span><span class="nc">FraudCheckCompleted</span><span class="p">,</span><span class="w"> </span><span class="nc">OrderPlaced</span><span class="p">,</span><span class="w"> </span><span class="nc">PaymentReceived</span><span class="p">}</span>

<span class="k">object</span><span class="w"> </span><span class="nc">RecipeWithSensoryEvents</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">recipe</span><span class="p">:</span><span class="w"> </span><span class="nc">Recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">withSensoryEvents</span><span class="p">(</span>
<span class="w">      </span><span class="nc">Event</span><span class="p">[</span><span class="nc">OrderPlaced</span><span class="p">],</span>
<span class="w">      </span><span class="nc">PaymentReceived</span><span class="p">.</span><span class="n">event</span><span class="p">,</span>
<span class="w">      </span><span class="nc">FraudCheckCompleted</span><span class="p">.</span><span class="n">event</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For Scala events the <code>maxFiringLimit</code> is set in the <code>Event</code> definition. An example event definition can be
found in <a href="../../tutorial#define-the-sensory-event">this section</a> of the tutorial.</p>
</div>
</div>
</div>
</div>
<h3 id="event-receive-period">Event receive period</h3>
<p>The period during which the process accepts sensory events. This is an optional parameter, defaults to accepting 
sensory events forever.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Java</label><label for="__tabbed_2_2">Kotlin</label><label for="__tabbed_2_3">Scala</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">examples.java.recipes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.Recipe</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.Duration</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">RecipeWithEventReceivePeriod</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Recipe</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withEventReceivePeriod</span><span class="p">(</span><span class="n">Duration</span><span class="p">.</span><span class="na">ofHours</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples.kotlin.recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.ExperimentalDsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">kotlin.time.Duration.Companion.hours</span>

<span class="nd">@ExperimentalDsl</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">RecipeWithEventReceivePeriod</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recipe</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;example&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">eventReceivePeriod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5.</span><span class="n">hours</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="n">recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">Recipe</span>

<span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">concurrent</span><span class="p">.</span><span class="nn">duration</span><span class="p">.{</span><span class="nc">FiniteDuration</span><span class="p">,</span><span class="w"> </span><span class="nc">HOURS</span><span class="p">}</span>

<span class="k">object</span><span class="w"> </span><span class="nc">RecipeWithEventReceivePeriod</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">recipe</span><span class="p">:</span><span class="w"> </span><span class="nc">Recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">withEventReceivePeriod</span><span class="p">(</span><span class="nc">FiniteDuration</span><span class="p">.</span><span class="n">apply</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nc">HOURS</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="interactions">Interactions</h2>
<h3 id="custom-name">Custom name</h3>
<p>By default, the name of the interaction matches the name of the interaction class. Optionally, you can specify your
own name.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Java</label><label for="__tabbed_3_2">Kotlin</label><label for="__tabbed_3_3">Scala</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">examples.java.recipes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.InteractionDescriptor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.Recipe</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.interactions.ShipOrder</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">InteractionWithCustomName</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Recipe</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withInteractions</span><span class="p">(</span>
<span class="w">            </span><span class="n">InteractionDescriptor</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">ShipOrder</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ship-order&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples.kotlin.recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.ExperimentalDsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.interactions.ShipOrder</span>

<span class="nd">@ExperimentalDsl</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">InteractionWithCustomName</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">interaction</span><span class="o">&lt;</span><span class="n">ShipOrder</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ship-order&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="n">recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">Recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="nn">interactions</span><span class="p">.</span><span class="nc">ShipOrder</span>

<span class="k">object</span><span class="w"> </span><span class="nc">InteractionWithCustomName</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">recipe</span><span class="p">:</span><span class="w"> </span><span class="nc">Recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">withInteraction</span><span class="p">(</span>
<span class="w">      </span><span class="nc">ShipOrder</span><span class="p">.</span><span class="n">interaction</span>
<span class="w">        </span><span class="p">.</span><span class="n">withName</span><span class="p">(</span><span class="s">&quot;ship-order&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="maximum-interaction-count">Maximum interaction count</h3>
<p>By default, an interaction can be invoked an unlimited amount of times. Optionally, you can specify a limit.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Java</label><label for="__tabbed_4_2">Kotlin</label><label for="__tabbed_4_3">Scala</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">examples.java.recipes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.InteractionDescriptor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.Recipe</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.interactions.ShipOrder</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">RecipeWithMaxInteractionCount</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Recipe</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withInteractions</span><span class="p">(</span>
<span class="w">            </span><span class="n">InteractionDescriptor</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">ShipOrder</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">withMaximumInteractionCount</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples.kotlin.recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.ExperimentalDsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.interactions.ShipOrder</span>

<span class="nd">@ExperimentalDsl</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">RecipeWithMaxInteractionCount</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">interaction</span><span class="o">&lt;</span><span class="n">ShipOrder</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">maximumInteractionCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="n">recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">Recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="nn">interactions</span><span class="p">.</span><span class="nc">ShipOrder</span>

<span class="k">object</span><span class="w"> </span><span class="nc">RecipeWithMaxInteractionCount</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">recipe</span><span class="p">:</span><span class="w"> </span><span class="nc">Recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">withInteraction</span><span class="p">(</span>
<span class="w">      </span><span class="nc">ShipOrder</span><span class="p">.</span><span class="n">interaction</span>
<span class="w">        </span><span class="p">.</span><span class="n">withMaximumInteractionCount</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="predefined-ingredients">Predefined ingredients</h3>
<p>It's possible to register static ingredients to the interaction via predefined ingredients.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Java</label><label for="__tabbed_5_2">Kotlin</label><label for="__tabbed_5_3">Scala</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">examples.java.recipes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.InteractionDescriptor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.Recipe</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.interactions.ShipOrder</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.math.BigDecimal</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">RecipeWithPredefinedIngredients</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Recipe</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withInteractions</span><span class="p">(</span>
<span class="w">            </span><span class="n">InteractionDescriptor</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">ShipOrder</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">withPredefinedIngredients</span><span class="p">(</span>
<span class="w">                    </span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<span class="w">                        </span><span class="s">&quot;shippingCostAmount&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigDecimal</span><span class="p">(</span><span class="s">&quot;5.75&quot;</span><span class="p">),</span>
<span class="w">                        </span><span class="s">&quot;shippingCostCurrency&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;EUR&quot;</span>
<span class="w">                    </span><span class="p">)</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples.kotlin.recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.ExperimentalDsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.interactions.ShipOrder</span>

<span class="nd">@ExperimentalDsl</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">RecipeWithPredefinedIngredients</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">interaction</span><span class="o">&lt;</span><span class="n">ShipOrder</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">           </span><span class="n">preDefinedIngredients</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="s">&quot;shippingCostAmount&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="s">&quot;5.75&quot;</span><span class="p">.</span><span class="na">toBigDecimal</span><span class="p">()</span>
<span class="w">               </span><span class="s">&quot;shippingCostCurrency&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="s">&quot;EUR&quot;</span>
<span class="w">           </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="n">recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">Recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="nn">interactions</span><span class="p">.</span><span class="nc">ShipOrder</span>

<span class="k">object</span><span class="w"> </span><span class="nc">RecipeWithPredefinedIngredients</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">recipe</span><span class="p">:</span><span class="w"> </span><span class="nc">Recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">withInteraction</span><span class="p">(</span>
<span class="w">      </span><span class="nc">ShipOrder</span><span class="p">.</span><span class="n">interaction</span>
<span class="w">        </span><span class="p">.</span><span class="n">withPredefinedIngredients</span><span class="p">(</span>
<span class="w">          </span><span class="p">(</span><span class="s">&quot;shippingCostAmount&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">BigDecimal</span><span class="p">(</span><span class="s">&quot;5.75&quot;</span><span class="p">)),</span>
<span class="w">          </span><span class="p">(</span><span class="s">&quot;shippingCostCurrency&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;EUR&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="required-events">Required events</h3>
<p>Sometimes an interaction should only execute after a certain event has happened. To achieve this you can specify
<code>requiredEvents</code> or <code>requiredOneOfEvents</code>. </p>
<p>All required events have to be available for the interaction to be executed. It works as a logical AND. In contrast, 
required one of events works as a logical OR. At least one of those events should be available before the interaction
is executed. </p>
<p>In this example, the <code>ShipOrder</code> interaction will only execute if the <code>FraudCheckCompleted</code> and one of (or both) the 
<code>PaymentReceived</code> or <code>UsedCouponCode</code> events are available.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Java</label><label for="__tabbed_6_2">Kotlin</label><label for="__tabbed_6_3">Scala</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">examples.java.recipes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.InteractionDescriptor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.Recipe</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.events.FraudCheckCompleted</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.interactions.ShipOrder</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">RecipeWithRequiredEvents</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Recipe</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withInteractions</span><span class="p">(</span>
<span class="w">            </span><span class="n">InteractionDescriptor</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">ShipOrder</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">withRequiredEvent</span><span class="p">(</span><span class="n">FraudCheckCompleted</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">withRequiredOneOfEventsFromName</span><span class="p">(</span><span class="s">&quot;PaymentReceived&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;UsedCouponCode&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples.kotlin.recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.ExperimentalDsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.events.FraudCheckCompleted</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.events.PaymentReceived</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.interactions.ShipOrder</span>

<span class="nd">@ExperimentalDsl</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">RecipeWithRequiredEvents</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">interaction</span><span class="o">&lt;</span><span class="n">ShipOrder</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">requiredEvents</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">event</span><span class="o">&lt;</span><span class="n">FraudCheckCompleted</span><span class="o">&gt;</span><span class="p">()</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="n">requiredOneOfEvents</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">event</span><span class="o">&lt;</span><span class="n">PaymentReceived</span><span class="o">&gt;</span><span class="p">()</span>
<span class="w">                </span><span class="n">event</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;UsedCouponCode&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="n">recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.{</span><span class="nc">Event</span><span class="p">,</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">}</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="nn">events</span><span class="p">.{</span><span class="nc">FraudCheckCompleted</span><span class="p">,</span><span class="w"> </span><span class="nc">PaymentReceived</span><span class="p">}</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="nn">interactions</span><span class="p">.</span><span class="nc">ShipOrder</span>

<span class="k">object</span><span class="w"> </span><span class="nc">RecipeWithRequiredEvents</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">recipe</span><span class="p">:</span><span class="w"> </span><span class="nc">Recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">withInteraction</span><span class="p">(</span>
<span class="w">      </span><span class="nc">ShipOrder</span><span class="p">.</span><span class="n">interaction</span>
<span class="w">        </span><span class="p">.</span><span class="n">withRequiredEvent</span><span class="p">(</span>
<span class="w">          </span><span class="nc">FraudCheckCompleted</span><span class="p">.</span><span class="n">event</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="n">withRequiredOneOfEvents</span><span class="p">(</span>
<span class="w">          </span><span class="nc">PaymentReceived</span><span class="p">.</span><span class="n">event</span><span class="p">,</span>
<span class="w">          </span><span class="nc">Event</span><span class="p">(</span><span class="s">&quot;UsedCouponCode&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="transform-output-events">Transform output events</h3>
<p>It's possible to change the name of an output event. Optionally, you can also change names of 
ingredients.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:3"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><input id="__tabbed_7_3" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Java</label><label for="__tabbed_7_2">Kotlin</label><label for="__tabbed_7_3">Scala</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">examples.java.recipes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.InteractionDescriptor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.Recipe</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.events.OrderPlaced</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.interactions.ShipOrder</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">RecipeWithEventTransformation</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Recipe</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withInteractions</span><span class="p">(</span>
<span class="w">            </span><span class="n">InteractionDescriptor</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">ShipOrder</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">withEventTransformation</span><span class="p">(</span><span class="n">OrderPlaced</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;OrderCreated&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;customerId&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;userId&quot;</span><span class="p">,</span>
<span class="w">                               </span><span class="s">&quot;productIds&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;skus&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples.kotlin.recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.ExperimentalDsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.events.OrderPlaced</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.interactions.ShipOrder</span>

<span class="nd">@ExperimentalDsl</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">RecipeWithEventTransformation</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">interaction</span><span class="o">&lt;</span><span class="n">ShipOrder</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">           </span><span class="n">transformEvent</span><span class="o">&lt;</span><span class="n">OrderPlaced</span><span class="o">&gt;</span><span class="p">(</span><span class="n">newName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;OrderCreated&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="s">&quot;customerId&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="s">&quot;userId&quot;</span>
<span class="w">               </span><span class="s">&quot;productIds&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="s">&quot;skus&quot;</span>
<span class="w">           </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="n">recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">Recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="nn">events</span><span class="p">.</span><span class="nc">PaymentReceived</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="nn">interactions</span><span class="p">.</span><span class="nc">ShipOrder</span>

<span class="k">object</span><span class="w"> </span><span class="nc">RecipeWithEventTransformation</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">recipe</span><span class="p">:</span><span class="w"> </span><span class="nc">Recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">withInteraction</span><span class="p">(</span>
<span class="w">      </span><span class="nc">ShipOrder</span><span class="p">.</span><span class="n">interaction</span>
<span class="w">        </span><span class="p">.</span><span class="n">withEventOutputTransformer</span><span class="p">(</span>
<span class="w">          </span><span class="n">event</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">PaymentReceived</span><span class="p">.</span><span class="n">event</span><span class="p">,</span>
<span class="w">          </span><span class="n">newEventName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;OrderCreated&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="n">ingredientRenames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Map</span><span class="p">.</span><span class="n">apply</span><span class="p">(</span>
<span class="w">            </span><span class="p">(</span><span class="s">&quot;customerId&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;userId&quot;</span><span class="p">),</span>
<span class="w">            </span><span class="p">(</span><span class="s">&quot;productIds&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;skus&quot;</span><span class="p">)</span>
<span class="w">          </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="override-input-ingredients">Override input ingredients</h3>
<p>It's possible to change the names the input ingredients.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:3"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><input id="__tabbed_8_3" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Java</label><label for="__tabbed_8_2">Kotlin</label><label for="__tabbed_8_3">Scala</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">examples.java.recipes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.InteractionDescriptor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.Recipe</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.interactions.ShipOrder</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">RecipeWithIngredientNameOverrides</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Recipe</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withInteractions</span><span class="p">(</span>
<span class="w">            </span><span class="n">InteractionDescriptor</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">ShipOrder</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">renameRequiredIngredient</span><span class="p">(</span><span class="s">&quot;orderId&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;orderNumber&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples.kotlin.recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.ExperimentalDsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.interactions.ShipOrder</span>

<span class="nd">@ExperimentalDsl</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">RecipeWithIngredientNameOverrides</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">interaction</span><span class="o">&lt;</span><span class="n">ShipOrder</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ingredientNameOverrides</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="s">&quot;orderId&quot;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="s">&quot;orderNumber&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="n">recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">Recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="nn">interactions</span><span class="p">.</span><span class="nc">ShipOrder</span>

<span class="k">object</span><span class="w"> </span><span class="nc">RecipeWithIngredientNameOverrides</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">recipe</span><span class="p">:</span><span class="w"> </span><span class="nc">Recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">withInteraction</span><span class="p">(</span>
<span class="w">      </span><span class="nc">ShipOrder</span><span class="p">.</span><span class="n">interaction</span>
<span class="w">        </span><span class="p">.</span><span class="n">withOverriddenIngredientName</span><span class="p">(</span><span class="s">&quot;orderId&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;orderNumber&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="failure-strategy">Failure strategy</h3>
<p>It's possible to define a failure strategy on interaction level. This failure strategy will only be used for this
specific interaction. Interaction specific failure strategies take precedence over the default failure strategy. 
For all available failure strategies, see the <a href="/sections/cookbook/error-handling">error handling</a> section.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:3"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><input id="__tabbed_9_3" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">Java</label><label for="__tabbed_9_2">Kotlin</label><label for="__tabbed_9_3">Scala</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">examples.java.recipes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.InteractionDescriptor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.InteractionFailureStrategy</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.Recipe</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.interactions.ShipOrder</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">RecipeWithFailureStrategy</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Recipe</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withInteractions</span><span class="p">(</span>
<span class="w">            </span><span class="n">InteractionDescriptor</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">ShipOrder</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">withFailureStrategy</span><span class="p">(</span>
<span class="w">                        </span><span class="n">InteractionFailureStrategy</span><span class="p">.</span><span class="na">FireEvent</span><span class="p">(</span><span class="s">&quot;shippingFailed&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples.kotlin.recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.ExperimentalDsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.interactions.ShipOrder</span>

<span class="nd">@ExperimentalDsl</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">RecipeWithFailureStrategy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">interaction</span><span class="o">&lt;</span><span class="n">ShipOrder</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">failureStrategy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fireEventAndBlock</span><span class="p">(</span><span class="s">&quot;shippingFailed&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="n">recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">common</span><span class="p">.</span><span class="nc">InteractionFailureStrategy</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">Recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="nn">interactions</span><span class="p">.</span><span class="nc">ShipOrder</span>

<span class="k">object</span><span class="w"> </span><span class="nc">RecipeWithFailureStrategy</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">recipe</span><span class="p">:</span><span class="w"> </span><span class="nc">Recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">withInteraction</span><span class="p">(</span>
<span class="w">      </span><span class="nc">ShipOrder</span><span class="p">.</span><span class="n">interaction</span>
<span class="w">        </span><span class="p">.</span><span class="n">withFailureStrategy</span><span class="p">(</span>
<span class="w">          </span><span class="nc">InteractionFailureStrategy</span><span class="p">.</span><span class="nc">FireEventAndBlock</span><span class="p">(</span><span class="nc">Some</span><span class="p">(</span><span class="s">&quot;shippingFailed&quot;</span><span class="p">))</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="recipe">Recipe</h2>
<h3 id="retention-period">Retention period</h3>
<p>The period during which the process keeps running, the recipe will be deleted AFTER the retention period has passed (measured from the creation time of the Recipe instance. This is an optional parameter, defaults to keep the process forever.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:3"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><input id="__tabbed_10_3" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">Java</label><label for="__tabbed_10_2">Kotlin</label><label for="__tabbed_10_3">Scala</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">examples.java.recipes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.Recipe</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.time.Duration</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">RecipeWithRetentionPeriod</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Recipe</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withRetentionPeriod</span><span class="p">(</span><span class="n">Duration</span><span class="p">.</span><span class="na">ofDays</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples.kotlin.recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.ExperimentalDsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">kotlin.time.Duration.Companion.days</span>
<span class="k">import</span><span class="w"> </span><span class="nn">kotlin.time.Duration.Companion.hours</span>

<span class="nd">@ExperimentalDsl</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">RecipeWithRetentionPeriod</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recipe</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;example&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">retentionPeriod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3.</span><span class="n">days</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="n">recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">Recipe</span>

<span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">concurrent</span><span class="p">.</span><span class="nn">duration</span><span class="p">.{</span><span class="nc">DAYS</span><span class="p">,</span><span class="w"> </span><span class="nc">FiniteDuration</span><span class="p">,</span><span class="w"> </span><span class="nc">HOURS</span><span class="p">}</span>

<span class="k">object</span><span class="w"> </span><span class="nc">RecipeWithRetentionPeriod</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">recipe</span><span class="p">:</span><span class="w"> </span><span class="nc">Recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">withRetentionPeriod</span><span class="p">(</span><span class="nc">FiniteDuration</span><span class="p">.</span><span class="n">apply</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="nc">DAYS</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="checkpoint-events">Checkpoint events</h3>
<p>Checkpoints are used to fire an event with a given name whenever certain preconditions are met. The preconditions 
are specified via <code>requiredEvents</code> or <code>requiredOneOfEvents</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:3"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><input id="__tabbed_11_3" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">Java</label><label for="__tabbed_11_2">Kotlin</label><label for="__tabbed_11_3">Scala</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">examples.java.recipes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.CheckPointEvent</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.Recipe</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.events.FraudCheckCompleted</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">examples.java.events.PaymentReceived</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">RecipeWithCheckpointEvent</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Recipe</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withCheckpointEvent</span><span class="p">(</span>
<span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">CheckPointEvent</span><span class="p">(</span><span class="s">&quot;CheckpointReached&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">withRequiredEvents</span><span class="p">(</span>
<span class="w">                        </span><span class="n">PaymentReceived</span><span class="p">.</span><span class="na">class</span><span class="p">,</span>
<span class="w">                        </span><span class="n">FraudCheckCompleted</span><span class="p">.</span><span class="na">class</span>
<span class="w">                </span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples.kotlin.recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.ExperimentalDsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.events.FraudCheckCompleted</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.events.PaymentReceived</span>

<span class="nd">@ExperimentalDsl</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">RecipeWithCheckpointEvent</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">checkpointEvent</span><span class="p">(</span><span class="n">eventName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;CheckpointReached&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">requiredEvents</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">event</span><span class="o">&lt;</span><span class="n">PaymentReceived</span><span class="o">&gt;</span><span class="p">()</span>
<span class="w">                </span><span class="n">event</span><span class="o">&lt;</span><span class="n">FraudCheckCompleted</span><span class="o">&gt;</span><span class="p">()</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="n">recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="n">scaladsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">Recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="nn">events</span><span class="p">.{</span><span class="nc">FraudCheckCompleted</span><span class="p">,</span><span class="w"> </span><span class="nc">PaymentReceived</span><span class="p">}</span>

<span class="k">object</span><span class="w"> </span><span class="nc">RecipeWithCheckpointEvent</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">recipe</span><span class="p">:</span><span class="w"> </span><span class="nc">Recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">withCheckpointEvent</span><span class="p">(</span>
<span class="w">      </span><span class="n">scaladsl</span><span class="p">.</span><span class="nc">CheckPointEvent</span><span class="p">(</span>
<span class="w">        </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;CheckpointReached&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">requiredEvents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Set</span><span class="p">.</span><span class="n">apply</span><span class="p">(</span>
<span class="w">          </span><span class="nc">PaymentReceived</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
<span class="w">          </span><span class="nc">FraudCheckCompleted</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="n">name</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="default-failure-strategy">Default failure strategy</h3>
<p>The default failure strategy allows you to set a failure strategy for interactions that don't specify 
one explicitly. For all available failure strategies, see the <a href="/sections/cookbook/error-handling">error handling</a> section.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:3"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><input id="__tabbed_12_3" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">Java</label><label for="__tabbed_12_2">Kotlin</label><label for="__tabbed_12_3">Scala</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">examples.java.recipes</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.InteractionFailureStrategy</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.javadsl.Recipe</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">RecipeWithDefaultFailureStrategy</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Recipe</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">withDefaultFailureStrategy</span><span class="p">(</span>
<span class="w">            </span><span class="n">InteractionFailureStrategy</span><span class="p">.</span><span class="na">FireEvent</span><span class="p">(</span><span class="s">&quot;recipeFailed&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples.kotlin.recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.ExperimentalDsl</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.ing.baker.recipe.kotlindsl.recipe</span>
<span class="k">import</span><span class="w"> </span><span class="nn">examples.kotlin.interactions.ShipOrder</span>

<span class="nd">@ExperimentalDsl</span>
<span class="kd">object</span><span class="w"> </span><span class="nc">RecipeWithDefaultFailureStrategy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">defaultFailureStrategy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fireEventAndBlock</span><span class="p">(</span><span class="s">&quot;recipeFailed&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">package</span><span class="w"> </span><span class="nn">examples</span><span class="p">.</span><span class="nn">scala</span><span class="p">.</span><span class="n">recipes</span>

<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">common</span><span class="p">.</span><span class="nc">InteractionFailureStrategy</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">recipe</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">Recipe</span>

<span class="k">object</span><span class="w"> </span><span class="nc">RecipeWithDefaultFailureStrategy</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">recipe</span><span class="p">:</span><span class="w"> </span><span class="nc">Recipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="s">&quot;example&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">withDefaultFailureStrategy</span><span class="p">(</span>
<span class="w">      </span><span class="nc">InteractionFailureStrategy</span><span class="p">.</span><span class="nc">FireEventAndBlock</span><span class="p">(</span><span class="nc">Some</span><span class="p">(</span><span class="s">&quot;recipeFailed&quot;</span><span class="p">))</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>