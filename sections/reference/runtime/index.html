
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../baker-types-and-values/">
      
      
        <link rel="next" href="../stores/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>The Baker Runtime - Baker</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/ing.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-baker-runtime" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Baker" class="md-header__button md-logo" aria-label="Baker" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Baker
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              The Baker Runtime
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ing-bank/baker" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    ing-bank/baker
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Baker" class="md-nav__button md-logo" aria-label="Baker" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Baker
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ing-bank/baker" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    ing-bank/baker
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quickstart guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Cookbook
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Cookbook
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/recipe-dsl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recipe DSL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/error-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Error handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/visualizations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visualizations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/fire-sensory-events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fire events and inquiry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/interaction-execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interaction execution
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../main-abstractions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Main Abstractions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../execution-semantics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Execution Semantics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../baker-types-and-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Baker Types and Values
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    The Baker Runtime
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    The Baker Runtime
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#akka-runtime" class="md-nav__link">
    <span class="md-ellipsis">
      Akka Runtime
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Akka Runtime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bakerakkaconfig-actorsystem" class="md-nav__link">
    <span class="md-ellipsis">
      Baker.akka(config, actorSystem)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Baker.akka(config, actorSystem)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#advantages-of-the-cluster-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Advantages of the Cluster Mode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactioninstancefromobject-reflection-api" class="md-nav__link">
    <span class="md-ellipsis">
      InteractionInstance.from(object) (Reflection API)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakeraddinteractioninstanceinteractioninstance" class="md-nav__link">
    <span class="md-ellipsis">
      baker.addInteractionInstance(interactionInstance)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recipecompilercompilerecipe" class="md-nav__link">
    <span class="md-ellipsis">
      RecipeCompiler.compile(recipe)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakeraddrecipereciperecordofcompiledrecipe" class="md-nav__link">
    <span class="md-ellipsis">
      baker.addRecipe(RecipeRecord.of(compiledRecipe))
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakergetallrecipes" class="md-nav__link">
    <span class="md-ellipsis">
      baker.getAllRecipes()
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerbakerecipeid-recipeinstanceid" class="md-nav__link">
    <span class="md-ellipsis">
      baker.bake(recipeId, recipeInstanceId)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eventinstancefromobject" class="md-nav__link">
    <span class="md-ellipsis">
      EventInstance.from(object)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerfireeventrecipeinstanceid-eventinstance" class="md-nav__link">
    <span class="md-ellipsis">
      baker.fireEvent(recipeInstanceId, eventInstance)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="baker.fireEvent(recipeInstanceId, eventInstance)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#correlationid" class="md-nav__link">
    <span class="md-ellipsis">
      correlationId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensoryeventstatus" class="md-nav__link">
    <span class="md-ellipsis">
      SensoryEventStatus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakergetrecipeinstancestaterecipeinstanceid" class="md-nav__link">
    <span class="md-ellipsis">
      baker.getRecipeInstanceState(recipeInstanceId)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakergetallinteractioninstancesmetadata" class="md-nav__link">
    <span class="md-ellipsis">
      baker.getAllInteractionInstancesMetadata()
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakergetvisualstaterecipeinstanceid-style" class="md-nav__link">
    <span class="md-ellipsis">
      baker.getVisualState(recipeInstanceId, style)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerregistereventlistenerrecipename-listenerfunction" class="md-nav__link">
    <span class="md-ellipsis">
      baker.registerEventListener(recipeName, listenerFunction)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerregisterbakereventlistenerlistenerfunction" class="md-nav__link">
    <span class="md-ellipsis">
      baker.registerBakerEventListener(listenerFunction)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerretryinteractionrecipeinstanceid-interactionname" class="md-nav__link">
    <span class="md-ellipsis">
      baker.retryInteraction(recipeInstanceId, interactionName)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerresolveinteractionrecipeinstanceid-interactionname-event" class="md-nav__link">
    <span class="md-ellipsis">
      baker.resolveInteraction(recipeInstanceId, interactionName, event)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerstopretryinginteractionrecipeinstanceid-interactionname" class="md-nav__link">
    <span class="md-ellipsis">
      baker.stopRetryingInteraction(recipeInstanceId, interactionName)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stores/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Event Stores and Cluster Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Versions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Versions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../versions/baker-3-release-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Notes v3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../versions/baker-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migration Guide v3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../versions/baker-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migration Guide v2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../feature-comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Feature comparison
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#akka-runtime" class="md-nav__link">
    <span class="md-ellipsis">
      Akka Runtime
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Akka Runtime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bakerakkaconfig-actorsystem" class="md-nav__link">
    <span class="md-ellipsis">
      Baker.akka(config, actorSystem)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Baker.akka(config, actorSystem)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#advantages-of-the-cluster-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Advantages of the Cluster Mode
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactioninstancefromobject-reflection-api" class="md-nav__link">
    <span class="md-ellipsis">
      InteractionInstance.from(object) (Reflection API)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakeraddinteractioninstanceinteractioninstance" class="md-nav__link">
    <span class="md-ellipsis">
      baker.addInteractionInstance(interactionInstance)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recipecompilercompilerecipe" class="md-nav__link">
    <span class="md-ellipsis">
      RecipeCompiler.compile(recipe)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakeraddrecipereciperecordofcompiledrecipe" class="md-nav__link">
    <span class="md-ellipsis">
      baker.addRecipe(RecipeRecord.of(compiledRecipe))
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakergetallrecipes" class="md-nav__link">
    <span class="md-ellipsis">
      baker.getAllRecipes()
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerbakerecipeid-recipeinstanceid" class="md-nav__link">
    <span class="md-ellipsis">
      baker.bake(recipeId, recipeInstanceId)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eventinstancefromobject" class="md-nav__link">
    <span class="md-ellipsis">
      EventInstance.from(object)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerfireeventrecipeinstanceid-eventinstance" class="md-nav__link">
    <span class="md-ellipsis">
      baker.fireEvent(recipeInstanceId, eventInstance)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="baker.fireEvent(recipeInstanceId, eventInstance)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#correlationid" class="md-nav__link">
    <span class="md-ellipsis">
      correlationId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensoryeventstatus" class="md-nav__link">
    <span class="md-ellipsis">
      SensoryEventStatus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakergetrecipeinstancestaterecipeinstanceid" class="md-nav__link">
    <span class="md-ellipsis">
      baker.getRecipeInstanceState(recipeInstanceId)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakergetallinteractioninstancesmetadata" class="md-nav__link">
    <span class="md-ellipsis">
      baker.getAllInteractionInstancesMetadata()
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakergetvisualstaterecipeinstanceid-style" class="md-nav__link">
    <span class="md-ellipsis">
      baker.getVisualState(recipeInstanceId, style)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerregistereventlistenerrecipename-listenerfunction" class="md-nav__link">
    <span class="md-ellipsis">
      baker.registerEventListener(recipeName, listenerFunction)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerregisterbakereventlistenerlistenerfunction" class="md-nav__link">
    <span class="md-ellipsis">
      baker.registerBakerEventListener(listenerFunction)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerretryinteractionrecipeinstanceid-interactionname" class="md-nav__link">
    <span class="md-ellipsis">
      baker.retryInteraction(recipeInstanceId, interactionName)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerresolveinteractionrecipeinstanceid-interactionname-event" class="md-nav__link">
    <span class="md-ellipsis">
      baker.resolveInteraction(recipeInstanceId, interactionName, event)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bakerstopretryinginteractionrecipeinstanceid-interactionname" class="md-nav__link">
    <span class="md-ellipsis">
      baker.stopRetryingInteraction(recipeInstanceId, interactionName)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="the-baker-runtime">The Baker Runtime</h1>
<p>Baker provider several constructors to build a runtime to run your Recipes on. The current implementations are an in memory implementation and an
<a href="https://akka.io/">Akka</a> based implementation. </p>
<h2 id="akka-runtime">Akka Runtime</h2>
<p>The Akka based implementation can be configured to run in local mode or in cluster mode.
We advised to use the in memory Baker instead of the Akka Baker in local mode if you do not require state.</p>
<h3 id="bakerakkaconfig-actorsystem">Baker.akka(config, actorSystem)</h3>
<p><em>Note: We recommend reviewing also Akka configuration.</em></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Scala</label><label for="__tabbed_1_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nn">akka</span><span class="p">.</span><span class="nn">actor</span><span class="p">.</span><span class="nc">ActorSystem</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">runtime</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">Baker</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">typesafe</span><span class="p">.</span><span class="nn">config</span><span class="p">.{</span><span class="nc">Config</span><span class="p">,</span><span class="w"> </span><span class="nc">ConfigFactory</span><span class="p">}</span>


<span class="kd">val</span><span class="w"> </span><span class="n">actorSystem</span><span class="p">:</span><span class="w"> </span><span class="nc">ActorSystem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ActorSystem</span><span class="p">(</span><span class="s">&quot;WebshopSystem&quot;</span><span class="p">)</span>
<span class="kd">val</span><span class="w"> </span><span class="n">config</span><span class="p">:</span><span class="w"> </span><span class="nc">Config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ConfigFactory</span><span class="p">.</span><span class="n">load</span><span class="p">()</span>

<span class="kd">val</span><span class="w"> </span><span class="n">baker</span><span class="p">:</span><span class="w"> </span><span class="nc">Baker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Baker</span><span class="p">.</span><span class="n">akka</span><span class="p">(</span><span class="n">config</span><span class="p">,</span><span class="w"> </span><span class="n">actorSystem</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">akka.actor.ActorSystem</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.runtime.javadsl.Baker</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.typesafe.config.Config</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.typesafe.config.ConfigFactory</span><span class="p">;</span>


<span class="n">ActorSystem</span><span class="w"> </span><span class="n">actorSystem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ActorSystem</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;WebshopSystem&quot;</span><span class="p">);</span>
<span class="n">Config</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ConfigFactory</span><span class="p">.</span><span class="na">load</span><span class="p">();</span>

<span class="n">Baker</span><span class="w"> </span><span class="n">baker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Baker</span><span class="p">.</span><span class="na">akka</span><span class="p">(</span><span class="n">config</span><span class="p">,</span><span class="w"> </span><span class="n">actorSystem</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<p>This last code snippet will build a Baker runtime and load all configuration from your default <code>application.conf</code> located 
in the resources directory. You can see more about configuration on <a href="../stores">this section</a>.</p>
<p>Alternatively there is a constructor that will provide the default configuration for a local mode Baker, this 
is recommended for tests.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Scala</label><label for="__tabbed_2_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">baker</span><span class="p">:</span><span class="w"> </span><span class="nc">Baker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">AkkaBaker</span><span class="p">.</span><span class="n">localDefault</span><span class="p">(</span><span class="n">actorSystem</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">Baker</span><span class="w"> </span><span class="n">baker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AkkaBaker</span><span class="p">.</span><span class="na">javaLocalDefault</span><span class="p">(</span><span class="n">actorSystem</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<h4 id="advantages-of-the-cluster-mode">Advantages of the Cluster Mode</h4>
<p>The capabilities gained when in cluster mode are:</p>
<ul>
<li>Elasticity: by adding/removing nodes to the cluster.</li>
<li>Resilience: <code>RecipeInstances</code> are automatically restored in a new node when the hosting node fails. (For this you need to configure 
a distributed data store like Cassandra)</li>
<li>Routing: You can fire <code>EventInstances</code> from anywhere on the cluster, and Baker will ensure that the corresponding <code>RecipeInstance</code>
receives the firing event.</li>
</ul>
<p><em>Note: To run on cluster mode you need to configure a distributed data store, we highly recommend using Cassandra.</em></p>
<h2 id="interactioninstancefromobject-reflection-api">InteractionInstance.from(object) (Reflection API)</h2>
<p>As part of our efforts to ease the creation of <code>InteractionInstances</code> we created this function that uses the Scala and the
Java reflection capabilities to create an <code>InteractionInstance</code> from an instance of a class.</p>
<p>The name of the <code>InteractionInstance</code> will be taken from the name of the implementing <code>interface</code> (Java) or <code>trait</code> (Scala) 
(it must match the name of the <code>Interaction</code> at the <code>Recipe</code>).</p>
<p>The interface MUST declare a public method called <code>apply</code>, and the types must match those of the expected provided ingredients.</p>
<p>Notice that his function might throw an exception if the instance is not correctly done (this is why in Scala the API is
named "unsafe").</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Scala</label><label for="__tabbed_3_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">runtime</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">InteractionInstance</span>

<span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">concurrent</span><span class="p">.</span><span class="nc">Future</span>
<span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">concurrent</span><span class="p">.</span><span class="nc">ExecutionContext</span><span class="p">.</span><span class="nc">Implicits</span><span class="p">.</span><span class="n">global</span>

<span class="k">sealed</span><span class="w"> </span><span class="k">trait</span><span class="w"> </span><span class="nc">ReserveItemsOutput</span>
<span class="k">case</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">OrderHadUnavailableItems</span><span class="p">(</span><span class="n">unavailableItems</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">String</span><span class="p">])</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nc">ReserveItemsOutput</span>
<span class="k">case</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">ItemsReserved</span><span class="p">(</span><span class="n">reservedItems</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">String</span><span class="p">])</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nc">ReserveItemsOutput</span>

<span class="k">trait</span><span class="w"> </span><span class="nc">ReserveItems</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="n">orderId</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">,</span><span class="w"> </span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">String</span><span class="p">]):</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">ReserveItemsOutput</span><span class="p">]</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ReserveItemsInstance</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nc">ReserveItems</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="k">override</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="n">orderId</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">,</span><span class="w"> </span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">String</span><span class="p">]):</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">ReserveItemsOutput</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// Http call to the Warehouse service</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="n">response</span><span class="p">:</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">Either</span><span class="p">[</span><span class="nc">List</span><span class="p">[</span><span class="nc">String</span><span class="p">],</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">String</span><span class="p">]]]</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="c1">// This is mocked for the sake of the example</span>
<span class="w">      </span><span class="nc">Future</span><span class="p">.</span><span class="n">successful</span><span class="p">(</span><span class="nc">Right</span><span class="p">(</span><span class="n">items</span><span class="p">))</span>

<span class="w">    </span><span class="c1">// Build an event instance that Baker understands</span>
<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">map</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="nc">Left</span><span class="p">(</span><span class="n">unavailableItems</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">        </span><span class="nc">OrderHadUnavailableItems</span><span class="p">(</span><span class="n">unavailableItems</span><span class="p">)</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="nc">Right</span><span class="p">(</span><span class="n">reservedItems</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">        </span><span class="nc">ItemsReserved</span><span class="p">(</span><span class="n">reservedItems</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">val</span><span class="w"> </span><span class="n">reserveItemsInstance</span><span class="p">:</span><span class="w"> </span><span class="nc">InteractionInstance</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="nc">InteractionInstance</span><span class="p">.</span><span class="n">unsafeFrom</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="nc">ReserveItemsInstance</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.runtime.javadsl.InteractionInstance</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.runtime.javadsl.Interaction</span><span class="p">;</span>

<span class="cm">/** Java interface used for the Recipe */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">ReserveItems</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Interaction</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">interface</span> <span class="nc">ReserveItemsOutcome</span><span class="w"> </span><span class="p">{}</span>

<span class="w">    </span><span class="kd">class</span> <span class="nc">OrderHadUnavailableItems</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ReserveItemsOutcome</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">unavailableItems</span><span class="p">;</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">OrderHadUnavailableItems</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">unavailableItems</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">unavailableItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">unavailableItems</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">class</span> <span class="nc">ItemsReserved</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ReserveItemsOutcome</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">reservedItems</span><span class="p">;</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">ItemsReserved</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">reservedItems</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">reservedItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reservedItems</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@FiresEvent</span><span class="p">(</span><span class="n">oneOf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">OrderHadUnavailableItems</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">ItemsReserved</span><span class="p">.</span><span class="na">class</span><span class="p">})</span>
<span class="w">    </span><span class="n">ReserveItemsOutcome</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="nd">@RequiresIngredient</span><span class="p">(</span><span class="s">&quot;orderId&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="nd">@RequiresIngredient</span><span class="p">(</span><span class="s">&quot;items&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/** Implementation of the interface used for creating an InteractionInstance */</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ReserveItems</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">JWebshopRecipe</span><span class="p">.</span><span class="na">ReserveItems</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// The body of this method is going to be executed by the Baker runtime when the ingredients are available.</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ReserveItemsOutcome</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ReserveItems</span><span class="p">.</span><span class="na">ItemsReserved</span><span class="p">(</span><span class="n">items</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/** Create an InteractionInstance from an instance of the ReserveItems implementation */</span><span class="w">        </span>
<span class="n">InteractionInstance</span><span class="w"> </span><span class="n">reserveItemsInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">InteractionInstance</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ReserveItems</span><span class="p">());</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="bakeraddinteractioninstanceinteractioninstance">baker.addInteractionInstance(interactionInstance)</h2>
<p>The Baker runtime requires you to add all <code>InteractionInstances</code> before adding any related <code>CompiledRecipes</code>. This can
be done using the <code>baker.addInteractionInstance(interactionInstance)</code> or the <code>baker.addInteractionInstances(intance1, instance2, ...)</code>
APIs.</p>
<p><em>Note: in Java the api returns a <code>CompletableFuture&lt;BoxedUnit&gt;</code>, this is because the API is implemented in Scala, so 
Scala's <code>Unit</code> get translated to <code>BoxedUnit</code>, but you should you ignore it and consider it as good as Java's <code>void</code>,
except it comes in a <code>CompletableFuture</code> that will help you handle async programming.</em></p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Scala</label><label for="__tabbed_4_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">baker</span><span class="p">:</span><span class="w"> </span><span class="nc">Baker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">AkkaBaker</span><span class="p">.</span><span class="n">localDefault</span><span class="p">(</span><span class="n">actorSystem</span><span class="p">)</span>

<span class="kd">val</span><span class="w"> </span><span class="n">reserveItemsInstance</span><span class="p">:</span><span class="w"> </span><span class="nc">InteractionInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">InteractionInstance</span><span class="p">.</span><span class="n">unsafeFrom</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="nc">ReserveItems</span><span class="p">())</span>

<span class="kd">val</span><span class="w"> </span><span class="n">result</span><span class="p">:</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">Unit</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">addInteractionInstance</span><span class="p">(</span><span class="n">reserveItemsInstance</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">Baker</span><span class="w"> </span><span class="n">baker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AkkaBaker</span><span class="p">.</span><span class="na">javaLocalDefault</span><span class="p">(</span><span class="n">actorSystem</span><span class="p">);</span>

<span class="n">InteractionInstance</span><span class="w"> </span><span class="n">reserveItemsInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">InteractionInstance</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ReserveItems</span><span class="p">());</span>

<span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">BoxedUnit</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="na">addInteractionInstance</span><span class="p">(</span><span class="n">reserveItemsInstance</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="recipecompilercompilerecipe">RecipeCompiler.compile(recipe)</h2>
<p><code>Recipes</code> once built must be converted into a data structure called <code>CompiledRecipe</code> that lets <code>RecipeInstances</code> 
to understand, store and run your process. These can be used to create a new <code>RecipeInstance</code> from a <code>baker</code> 
runtime that contains both a <code>CompiledRecipe</code> and the required <code>InteractionInstances</code>, or they can as well be converted
into a <a href="../../cookbook/visualizations">visualization</a>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Scala</label><label for="__tabbed_5_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">compiler</span><span class="p">.</span><span class="nc">RecipeCompiler</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">il</span><span class="p">.</span><span class="nc">CompiledRecipe</span>

<span class="kd">val</span><span class="w"> </span><span class="n">compiledRecipe</span><span class="p">:</span><span class="w"> </span><span class="nc">CompiledRecipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">RecipeCompiler</span><span class="p">.</span><span class="n">compileRecipe</span><span class="p">(</span><span class="n">recipe</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.compiler.RecipeCompiler</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.il.CompiledRecipe</span><span class="p">;</span>

<span class="n">CompiledRecipe</span><span class="w"> </span><span class="n">compiledRecipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RecipeCompiler</span><span class="p">.</span><span class="na">compileRecipe</span><span class="p">(</span><span class="n">recipe</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="bakeraddrecipereciperecordofcompiledrecipe">baker.addRecipe(RecipeRecord.of(compiledRecipe))</h2>
<p>Once <code>Recipes</code> have been transformed into <code>CompiledRecipes</code> they must be added to a baker runtime. The <code>baker.addRecipe(RecipeRecord.of(compiledRecipe))</code>
API will do so and return an id that you can use to reference the added recipe later on.</p>
<p><em>Note: Before doing this, baker requires you to add all related <code>InteractionInstances</code> to the runtime, this is because baker 
does validation to ensure that every recipe is runnable from the previously added <code>InteractionInstances</code>.</em></p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Java</label><label for="__tabbed_6_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">recipeId</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">String</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">addRecipe</span><span class="p">(</span><span class="nc">RecipeRecord</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">compiledRecipe</span><span class="p">))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">recipeId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="na">addRecipe</span><span class="p">(</span><span class="n">RecipeRecord</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">compiledRecipe</span><span class="p">));</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="bakergetallrecipes">baker.getAllRecipes()</h2>
<p>The baker at runtime can give you a map of all the currently available recipes that has been previously added to Baker.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Scala</label><label for="__tabbed_7_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">runtime</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">RecipeInformation</span>
<span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">concurrent</span><span class="p">.</span><span class="nc">Future</span>

<span class="kd">val</span><span class="w"> </span><span class="n">allRecipes</span><span class="p">:</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">Map</span><span class="p">[</span><span class="nc">String</span><span class="p">,</span><span class="w"> </span><span class="nc">RecipeInformation</span><span class="p">]]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">getAllRecipes</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.runtime.javadsl.RecipeInformation</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.CompletableFuture</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>

<span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">RecipeInformation</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">allRecipe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="na">getAllRecipes</span><span class="p">();</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="bakerbakerecipeid-recipeinstanceid">baker.bake(recipeId, recipeInstanceId)</h2>
<p>Once the Baker runtime contains a <code>CompiledRecipe</code> and all the associated <code>InteractionInstances</code> then you can use the 
<code>baker.bake(recipeId, recipeInstanceId)</code> API to create a <code>RecipeInstance</code> that will contain the state of your process
and execute any <code>InteractionInstance</code> as soon as all its required <code>InteractionIngredients</code> are available.</p>
<p><em>Note: This API requires you to choose a <code>recipeInstanceId</code>, the API does not provide one for you, this is so that 
you can manage this reference as required.</em></p>
<p><em>Note: in Java the api returns a <code>CompletableFuture&lt;BoxedUnit&gt;</code>, this is because the API is implemented in Scala, so 
Scala's <code>Unit</code> get translated to <code>BoxedUnit</code>, but you should you ignore it and consider it as good as Java's <code>void</code>,
except it comes in a <code>CompletableFuture</code> that will help you handle async programming.</em></p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Scala</label><label for="__tabbed_8_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">program</span><span class="p">:</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">Unit</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">_</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">addInteractionInstance</span><span class="p">(</span><span class="n">interactionInstances</span><span class="p">)</span>
<span class="w">  </span><span class="n">recipeId</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">addRecipe</span><span class="p">(</span><span class="nc">RecipeRecord</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">compiledRecipe</span><span class="p">))</span>
<span class="w">  </span><span class="n">recipeInstanceId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;my-id&quot;</span>
<span class="w">  </span><span class="n">_</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">bake</span><span class="p">(</span><span class="n">recipeId</span><span class="p">,</span><span class="w"> </span><span class="n">recipeInstanceId</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="k">yield</span><span class="w"> </span><span class="p">()</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">String</span><span class="w"> </span><span class="n">recipeInstanceId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;my-id&quot;</span><span class="p">;</span>
<span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">BoxedUnit</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="na">addInteractionInstace</span><span class="p">(</span><span class="n">reserveItemsInstance</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="na">thenCompose</span><span class="p">(</span><span class="n">ignore</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="na">addRecipe</span><span class="p">(</span><span class="n">RecipeRecord</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">compiledRecipe</span><span class="p">)))</span>
<span class="w">    </span><span class="p">.</span><span class="na">thenCompose</span><span class="p">(</span><span class="n">recipeId</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="na">bake</span><span class="p">(</span><span class="n">recipeId</span><span class="p">,</span><span class="w"> </span><span class="n">recipeInstanceId</span><span class="p">));</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="eventinstancefromobject">EventInstance.from(object)</h2>
<p>As part of our efforts to ease the creation of <code>EventInstances</code>, we added a function that uses Java and Scala reflection 
to create <code>EventInstances</code> from class objects.</p>
<p>The name of the <code>EventInstance</code> will be taken from the name of the <code>class</code> (Java) or <code>case class</code> (Scala) 
(it must match the name of the <code>Event</code> at the <code>Recipe</code>). And the argument names and types of the constructors will be 
translated to <code>IngredientInstances</code> with corresponding names and baker types.</p>
<p>Notice that this function might throw an exception if the event is not correctly done (this is why in Scala the API is
named "unsafe").</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">Scala</label><label for="__tabbed_9_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">runtime</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">EventInstance</span>

<span class="k">case</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">OrderPlaced</span><span class="p">(</span><span class="n">orderId</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">,</span><span class="w"> </span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="nc">List</span><span class="p">[</span><span class="nc">String</span><span class="p">])</span>

<span class="kd">val</span><span class="w"> </span><span class="n">firstOrderPlaced</span><span class="p">:</span><span class="w"> </span><span class="nc">EventInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">    </span><span class="nc">EventInstance</span><span class="p">.</span><span class="n">unsafeFrom</span><span class="p">(</span><span class="nc">OrderPlaced</span><span class="p">(</span><span class="s">&quot;order-id&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="s">&quot;item1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;item2&quot;</span><span class="p">)))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.runtime.javadsl.EventInstance</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">OrderPlaced</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">orderId</span><span class="p">;</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">OrderPlaced</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">orderId</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">orderId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orderId</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">items</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">EventInstance</span><span class="w"> </span><span class="n">firstOrderPlaced</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">EventInstance</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">JWebshopRecipe</span><span class="p">.</span><span class="na">OrderPlaced</span><span class="p">(</span><span class="s">&quot;order-uuid&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">items</span><span class="p">));</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="bakerfireeventrecipeinstanceid-eventinstance">baker.fireEvent(recipeInstanceId, eventInstance)</h2>
<p>After creation of a <code>RecipeInstance</code>, you use one of the variations of <code>baker.fireEvent(recipeInstanceId, eventInstance)</code>
to fire your <code>EventInstances</code> and start/continue the process flow. There are several supported semantics for firing an 
event which depend on the moment you want to get notified and continue your asynchronous computation, these are the 4 
different moments:</p>
<ol>
<li>
<p>When the event got accepted by the <code>RecipeInstance</code> but has not started cascading the execution of <code>InteractionInstances</code>. 
For this use the <code>Baker.fireEventAndResolveWhenReceived(recipeInstanceId, eventInstance)</code> API. This will return a 
<code>Future[SensoryEventStatus]</code> enum notifying of the outcome (the event might get rejected).</p>
</li>
<li>
<p>When the event got accepted by the <code>RecipeInstance</code> and has finished cascading the execution of <code>InteractionInstances</code>
up to the point that it requires more <code>EventInstances</code> (<code>SensoryEvents</code>) to continue, or the process has finished.
For this use the <code>Baker.fireEventAndResolveWhenCompleted(recipeInstanceId, eventInstance)</code> API. This will return a 
<code>Future[EventResult]</code> object containing a <code>SensoryEventStatus</code>, the <code>Event</code> names that got fired in consequence of this 
<code>SensoryEvent</code>, and the current available <code>Ingredients</code> output of the <code>InteractionInstances</code> that got executed as consequence 
of the <code>SensoryEvent</code>.</p>
</li>
<li>
<p>You want to do something on both of the previously mentioned moments, then use the 
<code>Baker.fireEvent(recipeInstanceId, eventInstance)</code> API, which will return an <code>EventResolutions</code> object which contains both
<code>Future[SensoryEventStatus]</code> and <code>Future[EventResult]</code> (or its <code>CompletableFuture&lt;A&gt;</code> equivalents in Java).</p>
</li>
<li>
<p>As soon as an intermediate <code>Event</code> fires from one of the <code>InteractionInstances</code> that execute as consequence of the fired
<code>SensoryEvent</code>. For this use the <code>Baker.fireEventAndResolveOnEvent(recipeInstanceId, eventInstance, onEventName)</code> API. This will return 
a similar <code>Future[EventResult</code> to the one returned by <code>Baker.fireEventAndResolveWhenCompleted</code> except the data will be up
to the moment the <code>onEventName</code> was fired.</p>
</li>
</ol>
<h3 id="correlationid">correlationId</h3>
<p>Optionally you may provide a <code>correlation id</code> when firing a <code>EventInstance</code>. The purpose of this identifier is idempotent 
event delivery: when sending the same event correlation id multiple times, only the first will be processed.</p>
<p>This can be applied to the <code>OrderPlaced</code> event for example.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">Scala</label><label for="__tabbed_10_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">correlationOrderId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a unique order id&quot;</span>

<span class="k">for</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">statusA</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">processEventAndResolveWhenReceived</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="n">orderPlacedEvent</span><span class="p">,</span><span class="w"> </span><span class="n">correlationOrderId</span><span class="p">)</span>
<span class="w">    </span><span class="n">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assert</span><span class="p">(</span><span class="n">statusA</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Received</span><span class="p">)</span>
<span class="w">    </span><span class="n">statusB</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">processEventAndResolveWhenReceived</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="n">orderPlacedEvent</span><span class="p">,</span><span class="w"> </span><span class="n">correlationOrderId</span><span class="p">)</span>
<span class="w">    </span><span class="n">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assert</span><span class="p">(</span><span class="n">statusB</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">AlreadyReceived</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="k">yield</span><span class="w"> </span><span class="p">()</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">String</span><span class="w"> </span><span class="n">correlationOrderId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a unique order id&quot;</span><span class="p">;</span>

<span class="n">SensoryEventStatus</span><span class="w"> </span><span class="n">statusA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span>
<span class="w">    </span><span class="p">.</span><span class="na">processEventAndResolveWhenReceived</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="n">orderPlacedEvent</span><span class="p">,</span><span class="w"> </span><span class="n">correlationOrderId</span><span class="p">);</span>
<span class="w">    </span><span class="p">.</span><span class="na">join</span><span class="p">();</span>
<span class="k">assert</span><span class="p">(</span><span class="n">statusA</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Received</span><span class="p">);</span>

<span class="n">SensoryEventStatus</span><span class="w"> </span><span class="n">statusB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span>
<span class="w">    </span><span class="p">.</span><span class="na">processEventAndResolveWhenReceived</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="n">orderPlacedEvent</span><span class="p">,</span><span class="w"> </span><span class="n">correlationOrderId</span><span class="p">);</span>
<span class="w">    </span><span class="p">.</span><span class="na">join</span><span class="p">();</span>
<span class="k">assert</span><span class="p">(</span><span class="n">statusB</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">AlreadyReceived</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="sensoryeventstatus">SensoryEventStatus</h3>
<table>
<thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Received</code></td>
<td>The event was received normally</td>
</tr>
<tr>
<td><code>AlreadyReceived</code></td>
<td>An event with the same correlation id was already received</td>
</tr>
<tr>
<td><code>ProcessDeleted</code></td>
<td>The process instance was deleted</td>
</tr>
<tr>
<td><code>ReceivePeriodExpired</code></td>
<td>The receive period for the process instance has passed</td>
</tr>
<tr>
<td><code>FiringLimitMet</code></td>
<td>The <code>firing limit</code> for the event was met</td>
</tr>
</tbody>
</table>
<h2 id="bakergetrecipeinstancestaterecipeinstanceid">baker.getRecipeInstanceState(recipeInstanceId)</h2>
<p><code>baker.getInteractionInstanceState(recipeInstanceId)</code> will return an <code>InteractionInstanceState</code> object which 
contains all the event names with timestamps that have executed, and the current available provided ingredient data.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">Scala</label><label for="__tabbed_11_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">runtime</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="nc">RecipeInstanceState</span>

<span class="kd">val</span><span class="w"> </span><span class="n">state</span><span class="p">:</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">RecipeInstanceState</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">getRecipeInstanceState</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.runtime.javadsl.RecipeInstanceState</span><span class="p">;</span>

<span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">RecipeInstanceState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="na">getRecipeInstanceState</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="bakergetallinteractioninstancesmetadata">baker.getAllInteractionInstancesMetadata()</h2>
<p>Returns the recipeId, recipeInstanceId and creation timestamp of all running <code>RecipeInstances</code>.</p>
<p><em>Note: Can potentially return a partial result when baker runs in cluster mode because not all shards might be reached within 
the given timeout.</em></p>
<p><em>Note: Does not include deleted <code>RecipeInstances</code>.</em></p>
<h2 id="bakergetvisualstaterecipeinstanceid-style">baker.getVisualState(recipeInstanceId, style)</h2>
<p>Another method of fetching state is the visual representation of it. You can do that with the <code>Baker.getVisualState(recipeInstanceId)</code>
API. This will return a GraphViz string like the <a href="">visualization api</a> that you can convert into an image.</p>
<p>Here is a visualization of the state of another webshop example, one can clearly see that the process is flowing correctly
without failures and that it is still waiting for the payment sensory event to be fired.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">Scala</label><label for="__tabbed_12_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">state</span><span class="p">:</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">String</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">getVisualState</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="na">getVisualState</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<p><img alt="" src="../../../images/webshop-state-1.svg" /></p>
<h2 id="bakerregistereventlistenerrecipename-listenerfunction">baker.registerEventListener(recipeName, listenerFunction)</h2>
<p>Registers a listener to all runtime events for this baker instance.</p>
<p>Note that:
- The delivery guarantee is <em>AT MOST ONCE</em>. Practically this means you can miss events when the application terminates (unexpected or not).
- The delivery is local (JVM) only, you will NOT receive events from other nodes when running in cluster mode.</p>
<p>Because of these constraints you should not use an event listener for critical functionality. Valid use cases might be:
- logging
- metrics
- unit tests</p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:2"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">Scala</label><label for="__tabbed_13_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">baker</span><span class="p">.</span><span class="n">registerEventListener</span><span class="p">((</span><span class="n">recipeInstanceId</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">,</span><span class="w"> </span><span class="n">event</span><span class="p">:</span><span class="w"> </span><span class="nc">EventInstance</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="s">s&quot;Recipe instance : </span><span class="si">$</span><span class="n">recipeInstanceId</span><span class="s"> processed event </span><span class="si">${</span><span class="n">event</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">BiConsumer</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">EventInstance</span><span class="o">&gt;</span><span class="w"> </span><span class="n">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="n">EventInstance</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Recipe Instance &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">recipeInstanceId</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; processed event &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="na">name</span><span class="p">());</span>

<span class="n">baker</span><span class="p">.</span><span class="na">registerEventListener</span><span class="p">(</span><span class="n">handler</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="bakerregisterbakereventlistenerlistenerfunction">baker.registerBakerEventListener(listenerFunction)</h2>
<p>Registers a listener to all runtime BAKER events, these are events that notify what Baker is doing, like <code>RecipeInstances</code>
received <code>EventInstances</code> or <code>CompiledRecipes</code> being added to baker.</p>
<p>Note that:
- The delivery guarantee is <em>AT MOST ONCE</em>. Practically this means you can miss events when the application terminates (unexpected or not).
- The delivery is local (JVM) only, you will NOT receive events from other nodes when running in cluster mode.</p>
<p>Because of these constraints you should not use an event listener for critical functionality. Valid use cases might be:
- logging
- metrics
- unit tests</p>
<div class="tabbed-set tabbed-alternate" data-tabs="14:2"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><input id="__tabbed_14_2" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="__tabbed_14_1">Scala</label><label for="__tabbed_14_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nn">com</span><span class="p">.</span><span class="nn">ing</span><span class="p">.</span><span class="nn">baker</span><span class="p">.</span><span class="nn">runtime</span><span class="p">.</span><span class="nn">scaladsl</span><span class="p">.</span><span class="n">_</span>

<span class="n">baker</span><span class="p">.</span><span class="n">registerBakerEventListener</span><span class="p">((</span><span class="n">event</span><span class="p">:</span><span class="w"> </span><span class="nc">BakerEvent</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">event</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="nc">EventReceived</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="nc">EventRejected</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="nc">InteractionFailed</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="nc">InteractionStarted</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="nc">InteractionCompleted</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="nc">ProcessCreated</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="nc">RecipeAdded</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">com.ing.baker.runtime.javadsl.BakerEvent</span><span class="p">;</span>

<span class="n">baker</span><span class="p">.</span><span class="na">registerBakerEventListener</span><span class="p">((</span><span class="n">BakerEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">event</span><span class="p">));</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="bakerretryinteractionrecipeinstanceid-interactionname">baker.retryInteraction(recipeInstanceId, interactionName)</h2>
<p>It is possible that during the execution of a <code>RecipeInstance</code> it becomes <em>blocked</em>, this can happen either because it 
is <code>directly blocked</code> by an exception (and the <code>FailureStrategy</code> of the <code>Interaction</code> of the <code>Recipe</code> was set to block) 
or that the retry strategy was exhausted. At this point it is possible to resolve the blocked interaction in 2 ways. 
This one involves forcing another try, resulting either on a successful continued process, or again on a failed state, 
to check this you will need to request the state of the <code>RecipeInstance</code> again.</p>
<p><em>Note: this behaviour can be automatically preconfigured by using the <code>RetryWithIncrementalBackoff</code> <code>FailureStrategy</code>
on the <code>Interaction</code> of the <code>Recipe</code></em></p>
<div class="tabbed-set tabbed-alternate" data-tabs="15:2"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><input id="__tabbed_15_2" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="__tabbed_15_1">Scala</label><label for="__tabbed_15_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">program</span><span class="p">:</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">Unit</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">    </span><span class="n">baker</span><span class="p">.</span><span class="n">retryInteraction</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ReserveItems&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">BoxedUnit</span><span class="o">&gt;</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">    </span><span class="n">baker</span><span class="p">.</span><span class="na">retryInteraction</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ReserveItems&quot;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="bakerresolveinteractionrecipeinstanceid-interactionname-event">baker.resolveInteraction(recipeInstanceId, interactionName, event)</h2>
<p>It is possible that during the execution of a <code>RecipeInstance</code> it becomes <em>blocked</em>, this can happen either because it 
is <code>directly blocked</code> by an exception or that the retry strategy was exhausted. At this point it is possible to resolve 
the blocked interaction in two ways. This one involves resolving the interaction with a chosen <code>EventInstance</code> to replace
the one that would have had been computed by the <code>InteractionInstance</code>.</p>
<p><em>Note: this behaviour can be automatically preconfigured by using the <code>FireEventAfterFailure(eventName)</code> <code>FailureStrategy</code>
on the <code>Interaction</code> of the <code>Recipe</code></em></p>
<div class="tabbed-set tabbed-alternate" data-tabs="16:2"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><input id="__tabbed_16_2" name="__tabbed_16" type="radio" /><div class="tabbed-labels"><label for="__tabbed_16_1">Scala</label><label for="__tabbed_16_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">program</span><span class="p">:</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">Unit</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">    </span><span class="n">baker</span><span class="p">.</span><span class="n">resolveInteraction</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ReserveItems&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">ItemsReserved</span><span class="p">(</span><span class="nc">List</span><span class="p">(</span><span class="s">&quot;item1&quot;</span><span class="p">)))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">BoxedUnit</span><span class="o">&gt;</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">    </span><span class="n">baker</span><span class="p">.</span><span class="na">resolveInteraction</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ReserveItems&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ItemsReserved</span><span class="p">(</span><span class="n">List</span><span class="p">(</span><span class="s">&quot;item1&quot;</span><span class="p">)));</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="bakerstopretryinginteractionrecipeinstanceid-interactionname">baker.stopRetryingInteraction(recipeInstanceId, interactionName)</h2>
<p>If an <code>Interaction</code> is configured with a <code>RetryWithIncrementalBackoff</code> <code>FailureStrategy</code> then it will not stop retrying 
until you call this API or a successful outcome happens from the <code>InteractionInstance</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="17:2"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio" /><input id="__tabbed_17_2" name="__tabbed_17" type="radio" /><div class="tabbed-labels"><label for="__tabbed_17_1">Scala</label><label for="__tabbed_17_2">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">program</span><span class="p">:</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">Unit</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">    </span><span class="n">baker</span><span class="p">.</span><span class="n">stopRetryingInteraction</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ReserveItems&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">BoxedUnit</span><span class="o">&gt;</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">    </span><span class="n">baker</span><span class="p">.</span><span class="na">stopRetryingInteraction</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ReserveItems&quot;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>