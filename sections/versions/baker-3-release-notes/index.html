
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../reference/stores/">
      
      
        <link rel="next" href="../baker-3/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.15">
    
    
      
        <title>Release Notes v3 - Baker</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.26e3688c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/ing.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#release-notes-v3" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Baker" class="md-header__button md-logo" aria-label="Baker" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Baker
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Release Notes v3
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ing-bank/baker" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ing-bank/baker
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Baker" class="md-nav__button md-logo" aria-label="Baker" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Baker
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ing-bank/baker" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ing-bank/baker
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart-guide/" class="md-nav__link">
        Quickstart guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/" class="md-nav__link">
        Concepts
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        Tutorial
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Cookbook
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Cookbook
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/recipe-dsl/" class="md-nav__link">
        Recipe DSL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/error-handling/" class="md-nav__link">
        Error handling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/visualizations/" class="md-nav__link">
        Visualizations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/fire-sensory-events/" class="md-nav__link">
        Fire events and inquiry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/monitoring/" class="md-nav__link">
        Monitoring
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main-abstractions/" class="md-nav__link">
        Main Abstractions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/execution-semantics/" class="md-nav__link">
        Execution Semantics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/baker-types-and-values/" class="md-nav__link">
        Baker Types and Values
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/runtime/" class="md-nav__link">
        The Akka Based Runtime
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/stores/" class="md-nav__link">
        Event Stores and Cluster Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Versions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Versions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Release Notes v3
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Release Notes v3
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#clearer-and-more-truthful-runtime-interface" class="md-nav__link">
    Clearer and more truthful runtime interface
  </a>
  
    <nav class="md-nav" aria-label="Clearer and more truthful runtime interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-approach-to-java-and-scala-dsl-for-the-runtime" class="md-nav__link">
    New approach to Java and Scala DSL for the runtime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-more-blocking-future-and-completablefuture" class="md-nav__link">
    No more blocking! Future and CompletableFuture
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renames-to-runtime-objects" class="md-nav__link">
    Renames to runtime objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firing-events-into-baker" class="md-nav__link">
    Firing events into Baker
  </a>
  
    <nav class="md-nav" aria-label="Firing events into Baker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eventinstance" class="md-nav__link">
    EventInstance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decide-on-what-to-be-notified-on-when-firing-the-event" class="md-nav__link">
    Decide on what to be notified on when firing the event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wait-for-a-specific-event" class="md-nav__link">
    Wait for a specific Event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eventresult" class="md-nav__link">
    EventResult
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-eventlistener-functions" class="md-nav__link">
    New EventListener functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#improved-and-simplified-runtime" class="md-nav__link">
    Improved and simplified Runtime
  </a>
  
    <nav class="md-nav" aria-label="Improved and simplified Runtime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#better-performance" class="md-nav__link">
    Better performance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-journal-for-stateless-processes" class="md-nav__link">
    New journal for stateless processes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#support-for-async-interactions" class="md-nav__link">
    Support for async interactions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deprecatedremoved" class="md-nav__link">
    Deprecated/Removed
  </a>
  
    <nav class="md-nav" aria-label="Deprecated/Removed">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eventlistener" class="md-nav__link">
    EventListener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sieves" class="md-nav__link">
    Sieves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uuid-support" class="md-nav__link">
    UUID support
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accesss-to-runtimeevents" class="md-nav__link">
    Accesss to RuntimeEvents
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../baker-3/" class="md-nav__link">
        Migration Guide v3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../baker-2/" class="md-nav__link">
        Migration Guide v2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../feature-comparison/" class="md-nav__link">
        Feature comparison
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#clearer-and-more-truthful-runtime-interface" class="md-nav__link">
    Clearer and more truthful runtime interface
  </a>
  
    <nav class="md-nav" aria-label="Clearer and more truthful runtime interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-approach-to-java-and-scala-dsl-for-the-runtime" class="md-nav__link">
    New approach to Java and Scala DSL for the runtime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-more-blocking-future-and-completablefuture" class="md-nav__link">
    No more blocking! Future and CompletableFuture
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renames-to-runtime-objects" class="md-nav__link">
    Renames to runtime objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firing-events-into-baker" class="md-nav__link">
    Firing events into Baker
  </a>
  
    <nav class="md-nav" aria-label="Firing events into Baker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eventinstance" class="md-nav__link">
    EventInstance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decide-on-what-to-be-notified-on-when-firing-the-event" class="md-nav__link">
    Decide on what to be notified on when firing the event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wait-for-a-specific-event" class="md-nav__link">
    Wait for a specific Event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eventresult" class="md-nav__link">
    EventResult
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-eventlistener-functions" class="md-nav__link">
    New EventListener functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#improved-and-simplified-runtime" class="md-nav__link">
    Improved and simplified Runtime
  </a>
  
    <nav class="md-nav" aria-label="Improved and simplified Runtime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#better-performance" class="md-nav__link">
    Better performance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-journal-for-stateless-processes" class="md-nav__link">
    New journal for stateless processes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#support-for-async-interactions" class="md-nav__link">
    Support for async interactions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deprecatedremoved" class="md-nav__link">
    Deprecated/Removed
  </a>
  
    <nav class="md-nav" aria-label="Deprecated/Removed">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eventlistener" class="md-nav__link">
    EventListener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sieves" class="md-nav__link">
    Sieves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uuid-support" class="md-nav__link">
    UUID support
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accesss-to-runtimeevents" class="md-nav__link">
    Accesss to RuntimeEvents
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="release-notes-v3">Release Notes v3</h1>
<p>The theme of release 3 is the Baker runtime.
We have two goals with this release.</p>
<p>The first goal is to be clearer in what the Baker runtime does.
We try to achieve this by having better naming and more truthful interface.</p>
<p>The second goal is to simplify the internal logic of the runtime.
This help when developing baker and has increased the performance of Baker.</p>
<h2 id="clearer-and-more-truthful-runtime-interface">Clearer and more truthful runtime interface</h2>
<p>The interface of Baker has had a complete overhaul.
Most changes are described below.
Our documentation also has been improved considerably so please have a look into this if something is unclear.</p>
<h3 id="new-approach-to-java-and-scala-dsl-for-the-runtime">New approach to Java and Scala DSL for the runtime</h3>
<p>In the past the Baker runtime was created for Scala developers and returned Scala objects.
For Java developers we create the JBaker which wrapped around the Baker and translated the objects.
The problem with this approach was that the interfaces for Java and Scala developers was going out of sync.</p>
<p>In this release we have created two separate packages for Java and Scala interfaces.
The javadsl and scaladsl packages contain the same objects but created for those users in mind.
These objects share a common parent to ensure the Java and Scala runtime DSLs are in sync.
As user you just chooses the correct objects by having either the javadsl or scaladsl imported.</p>
<h3 id="no-more-blocking-future-and-completablefuture">No more blocking! Future and CompletableFuture</h3>
<p>One of the things that Baker was hiding from the user is that is did a lot of blocking operations.
It was also unneeded to block since internally everything already supported using async operations.</p>
<p>In this release we have adjusted almost all interfaces of Baker to return a Future (or CompletableFuture for Java).
This way Baker does not block anymore and the user is in control.
The user can now program with Baker in a more functional way by using these futures.
If you as user do not want to you can wait for the result and its clear that the thread is blocked.</p>
<h3 id="renames-to-runtime-objects">Renames to runtime objects</h3>
<p>One of the things that was unclear is how the runtime objects map to the objects in the Recipe.
To make this clearer we have renamed some of the runtime objects.</p>
<p>They now map in the following fashion</p>
<table>
<thead>
<tr>
<th>Specification</th>
<th>Runtime</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Type</code></td>
<td><code>Value</code></td>
</tr>
<tr>
<td><code>Ingredient</code></td>
<td><code>IngredientInstance</code></td>
</tr>
<tr>
<td><code>Event</code></td>
<td><code>EventInstance</code></td>
</tr>
<tr>
<td><code>Interaction</code></td>
<td><code>InteractionInstance</code></td>
</tr>
<tr>
<td><code>Recipe</code></td>
<td><code>RecipeInstance</code></td>
</tr>
</tbody>
</table>
<p>This means the following renames have been done</p>
<ul>
<li>Process -&gt; RecipeInstance</li>
<li>ProcessId -&gt; RecipeInstanceId</li>
<li>RuntimeEvent -&gt; EventInstance</li>
<li>InteractionImplementation/Implementation -&gt; InteractionInstance</li>
</ul>
<p>This also translates to all methods on Baker.
For example:</p>
<ul>
<li>addImplementation -&gt; addInteractionInstance</li>
<li>getProcessState -&gt; getRecipeInstanceState</li>
</ul>
<h3 id="firing-events-into-baker">Firing events into Baker</h3>
<p>The processEvent logic has been completely rewritten, it is now been renamed to fireEvent.
See the <a href="../../development-life-cycle/bake-fire-events-and-inquiry/#fire-events">fire event section</a> for more details.</p>
<h4 id="eventinstance">EventInstance</h4>
<p>In the old versions you could give any object to the processEvent method and Baker would transform this to an Event.
This made it sometimes unclear what Baker really accepts as a input for this method.
In the new version of Baker you give a EventInstance to Baker.
This is the internal object we where creating from the Object in the past.
The EventInstance in turn can be created form an Object.
The difference now is that its clear that Baker uses EventInstances internally.
Another advantage is that you are now also free to create EventInstances any other way.</p>
<div class="tabbed-set" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">Scala</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="c1">//From any Object</span>
<span class="kd">val</span><span class="w"> </span><span class="n">orderPlaced</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">EventInstance</span>
<span class="w">      </span><span class="p">.</span><span class="n">unsafeFrom</span><span class="p">(</span><span class="nc">SimpleWebshopRecipeReflection</span><span class="p">.</span><span class="nc">OrderPlaced</span><span class="p">(</span><span class="n">orderId</span><span class="p">,</span><span class="w"> </span><span class="n">items</span><span class="p">))</span>
<span class="c1">//Using constructor</span>
<span class="kd">val</span><span class="w"> </span><span class="n">orderPlace2</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="nc">EventInstance</span><span class="p">.</span><span class="n">apply</span><span class="p">(</span><span class="s">&quot;OrderPlaced&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Map</span><span class="p">(</span><span class="s">&quot;orderId&quot;</span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Converters</span><span class="p">.</span><span class="n">toValue</span><span class="p">(</span><span class="n">orderId</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;items&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Converters</span><span class="p">.</span><span class="n">toValue</span><span class="p">(</span><span class="n">items</span><span class="p">)))</span>
</code></pre></div>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">Java</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="c1">//From any Object</span>
<span class="n">EventInstance</span><span class="w"> </span><span class="n">firstOrderPlaced</span><span class="w"> </span><span class="o">=</span>
<span class="w">                </span><span class="n">EventInstance</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">JWebshopRecipe</span><span class="p">.</span><span class="na">OrderPlaced</span><span class="p">(</span><span class="n">orderId</span><span class="p">,</span><span class="w"> </span><span class="n">items</span><span class="p">));</span>
<span class="c1">//Using constructor</span>
<span class="n">EventInstance</span><span class="w"> </span><span class="n">firstOrderPlaced2</span><span class="w"> </span><span class="o">=</span>
<span class="w">                </span><span class="n">EventInstance</span><span class="p">.</span><span class="na">apply</span><span class="p">(</span><span class="s">&quot;OrderPlaced&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ImmutableMap</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;orderId&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Converters</span><span class="p">.</span><span class="na">toValue</span><span class="p">(</span><span class="n">orderId</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;items&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Converters</span><span class="p">.</span><span class="na">toValue</span><span class="p">(</span><span class="n">items</span><span class="p">)));</span>
</code></pre></div>
</div>
</div>
<h4 id="decide-on-what-to-be-notified-on-when-firing-the-event">Decide on what to be notified on when firing the event</h4>
<p>Like in the old versions you can ask Baker to notify on specific moments.
This can be when the event is received or when the processing is completed.
New in this release is that you can now specify this when firing the event itself.
The advantage is that Baker can optimize the resources it uses in those cases.
This is done using the fireEventAndResolveWhenReceived and fireEventAndResolveWhenCompleted methods.</p>
<div class="tabbed-set" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><label for="__tabbed_2_1">Scala</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">result</span><span class="p">:</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">SensoryEventStatus</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">fireEventAndResolveWhenReceived</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="n">orderPlaced</span><span class="p">)</span>
<span class="kd">val</span><span class="w"> </span><span class="n">result</span><span class="p">:</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">SensoryEventResult</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">fireEventAndResolveWhenCompleted</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="n">paymentMade</span><span class="p">)</span>
</code></pre></div>
</div>
<input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><label for="__tabbed_2_2">Java</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">SensoryEventStatus</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="na">fireEventAndResolveWhenReceived</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="n">paymentMade</span><span class="p">);</span>
<span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">SensoryEventResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="na">fireEventAndResolveWhenCompleted</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="n">firstOrderPlaced</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
<p>The old way of firing a event where you get both the co</p>
<h4 id="wait-for-a-specific-event">Wait for a specific Event</h4>
<p>In this new release we have added a highly requested feature.
YOu can now ask baker to notify you on a a specific event.
You can use the fireEventAndResolveOnEvent method for this.</p>
<p>The returned future will complete when a event with the given name is fired.</p>
<div class="tabbed-set" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><label for="__tabbed_3_1">Scala</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">result</span><span class="p">:</span><span class="w"> </span><span class="nc">Future</span><span class="p">[</span><span class="nc">SensoryEventResult</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">baker</span><span class="p">.</span><span class="n">fireEventAndResolveOnEvent</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="n">orderPlaced</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;eventName&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><label for="__tabbed_3_2">Java</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">SensoryEventResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span>
<span class="w">                </span><span class="n">baker</span><span class="p">.</span><span class="na">fireEventAndResolveOnEvent</span><span class="p">(</span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"> </span><span class="n">firstOrderPlaced</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;eventName&quot;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
<h4 id="eventresult">EventResult</h4>
<p>The fireEventAndResolveOnEvent and fireEventAndResolveWhenCompleted return an EventResult.
This EventResult object contains the SensoryEventStatus, event names and created ingredients.
The addition of the event names and ingredients can be very useful if you need to make a decision depending on the state.
In these cases there is no need to inquire on Baker itself anymore.</p>
<div class="tabbed-set" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><label for="__tabbed_4_1">Scala</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="k">case</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">SensoryEventResult</span><span class="p">(</span>
<span class="w">                               </span><span class="n">sensoryEventStatus</span><span class="p">:</span><span class="w"> </span><span class="nc">SensoryEventStatus</span><span class="p">,</span>
<span class="w">                               </span><span class="n">eventNames</span><span class="p">:</span><span class="w"> </span><span class="nc">Seq</span><span class="p">[</span><span class="nc">String</span><span class="p">],</span>
<span class="w">                               </span><span class="n">ingredients</span><span class="p">:</span><span class="w"> </span><span class="nc">Map</span><span class="p">[</span><span class="nc">String</span><span class="p">,</span><span class="w"> </span><span class="nc">Value</span><span class="p">]</span>
<span class="p">)</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">com</span><span class="p">.</span><span class="n">ing</span><span class="p">.</span><span class="n">baker</span><span class="p">.</span><span class="n">runtime</span><span class="p">.</span><span class="n">common</span><span class="p">.</span><span class="nc">SensoryEventResult</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">ScalaApi</span>
</code></pre></div>
</div>
<input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><label for="__tabbed_4_2">Java</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="k">case</span><span class="w"> </span><span class="kd">class</span> <span class="nf">SensoryEventResult</span><span class="p">(</span>
<span class="w">                               </span><span class="n">sensoryEventStatus</span><span class="p">:</span><span class="w"> </span><span class="n">SensoryEventStatus</span><span class="p">,</span>
<span class="w">                               </span><span class="n">eventNames</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">List</span><span class="o">[</span><span class="n">String</span><span class="o">]</span><span class="p">,</span>
<span class="w">                               </span><span class="n">ingredients</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">Map</span><span class="o">[</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Value</span><span class="o">]</span>
<span class="p">)</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">com</span><span class="p">.</span><span class="na">ing</span><span class="p">.</span><span class="na">baker</span><span class="p">.</span><span class="na">runtime</span><span class="p">.</span><span class="na">common</span><span class="p">.</span><span class="na">SensoryEventResult</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">JavaApi</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="n">def</span><span class="w"> </span><span class="n">getSensoryEventStatus</span><span class="p">:</span><span class="w"> </span><span class="n">SensoryEventStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sensoryEventStatus</span>

<span class="w">  </span><span class="n">def</span><span class="w"> </span><span class="n">getEventName</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">List</span><span class="o">[</span><span class="n">String</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eventNames</span>

<span class="w">  </span><span class="n">def</span><span class="w"> </span><span class="n">getIngredients</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">Map</span><span class="o">[</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Value</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ingredients</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
<h3 id="new-eventlistener-functions">New EventListener functions</h3>
<p>For the EventListener we have moved away from the annotation based approach.
In this version you can add an EventListener function instead.
See the <a href="../../reference/event-listener/">event listener section</a> for more details.</p>
<h2 id="improved-and-simplified-runtime">Improved and simplified Runtime</h2>
<h3 id="better-performance">Better performance</h3>
<p>Due to simplifying and refactoring the runtime we see a big increase in the load a Baker instance can handle.
For our created <a href="https://github.com/ing-bank/baker/tree/master/examples/src">example project</a>
we saw the project could handle over 5 times the load when switching from version 2 to 3 of Baker.</p>
<h3 id="new-journal-for-stateless-processes">New journal for stateless processes</h3>
<p>For stateless processes we used to advise to use the in-memory-journal plugin.
This journal kept all processes in-memory until the actors where cleaned.
For a true stateless process this is unnecessary so we created a new journal.
This one just dumps the event sourcing messages.
This should lower the memory footprint of stateless users.</p>
<p>How to configure:
<div class="highlight"><pre><span></span><code>CONFIG
# Custom journal plugin
service.sink-journal {
  # Class name of the plugin.
  class = &quot;com.ing.baker.runtime.akka.journal.SinkJournalWriter&quot;
  # Dispatcher for the plugin actor.
  plugin-dispatcher = &quot;akka.actor.default-dispatcher&quot;
}

service.sink-snapshot-store {
  # Class name of the plugin.
  class = &quot;com.ing.baker.runtime.akka.journal.SinkSnapshotStore&quot;
  # Dispatcher for the plugin actor.
  plugin-dispatcher = &quot;akka.persistence.dispatchers.default-plugin-dispatcher&quot;
}
akka.persistence {
  journal.plugin = &quot;service.sink-journal&quot;
  snapshot-store.plugin = &quot;service.sink-snapshot-store&quot;
}
</code></pre></div></p>
<h3 id="support-for-async-interactions">Support for async interactions</h3>
<p>It is now possible to create interactions that return their events in a Future or CompletableFuture.
When using this Baker can close threads instead of blocking a thread.
Which in turn again improves performance.
The downside of using async interaction is that some validations cannot be done anymore due to type erasure.</p>
<p>To use this in Scala you just return a Future of the result of your interaction.
In Java you need to return a CompletableFuture of your result and add an AsyncInteraction annotation on top of your InteractionInstance.</p>
<h2 id="deprecatedremoved">Deprecated/Removed</h2>
<h3 id="eventlistener">EventListener</h3>
<p>The EventListener object used in the Java runtime has been deprecated.
We advice users to move over the logic to the registerBakerEventListener that accepts functions instead.</p>
<h3 id="sieves">Sieves</h3>
<p>The Sieve concept has slowly been deprecated in the last releases.
In version 2 there was already no difference between a sieve and an interaction.
In this release we have removed sieves completely.</p>
<h3 id="uuid-support">UUID support</h3>
<p>In JBaker we supported using a UUID as a processId.
In this release this has been removed completely and we accept Strings.
This is again in line with being clearer what Baker does.
Internally we were just transforming this to a String.</p>
<h3 id="accesss-to-runtimeevents">Accesss to RuntimeEvents</h3>
<p>Version 2 would provided undocumented public interfaces returning RuntimeEvent instances.
In version 3, the possibility to get Ingredients provided by a specific Event is gone.
Users should not care where ingredients are provided from.
This could be from an SensoryEvent or as output of a Event from an Interaction.
This should not matter, only if the ingredient is available should matter.
This allow users to flexibly recipes without impacting client code.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>