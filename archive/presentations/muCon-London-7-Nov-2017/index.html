
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.15">
    
    
      
        <title>Declare, verify and execute microservices-based process flows with Baker - Baker</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.26e3688c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/ing.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#declare-verify-and-execute-microservices-based-process-flows-with-baker" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Baker" class="md-header__button md-logo" aria-label="Baker" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Baker
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Declare, verify and execute microservices-based process flows with Baker
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ing-bank/baker" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ing-bank/baker
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Baker" class="md-nav__button md-logo" aria-label="Baker" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Baker
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ing-bank/baker" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ing-bank/baker
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/quickstart-guide/" class="md-nav__link">
        Quickstart guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/concepts/" class="md-nav__link">
        Concepts
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/tutorial/" class="md-nav__link">
        Tutorial
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Cookbook
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Cookbook
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/cookbook/recipe-dsl/" class="md-nav__link">
        Recipe DSL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/cookbook/error-handling/" class="md-nav__link">
        Error handling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/cookbook/visualizations/" class="md-nav__link">
        Visualizations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/cookbook/fire-sensory-events/" class="md-nav__link">
        Fire events and inquiry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/cookbook/interaction-execution/" class="md-nav__link">
        Interaction execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/cookbook/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/cookbook/monitoring/" class="md-nav__link">
        Monitoring
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/reference/main-abstractions/" class="md-nav__link">
        Main Abstractions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/reference/execution-semantics/" class="md-nav__link">
        Execution Semantics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/reference/baker-types-and-values/" class="md-nav__link">
        Baker Types and Values
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/reference/runtime/" class="md-nav__link">
        The Baker Runtime
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/reference/stores/" class="md-nav__link">
        Event Stores and Cluster Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Versions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Versions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/versions/baker-3-release-notes/" class="md-nav__link">
        Release Notes v3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/versions/baker-3/" class="md-nav__link">
        Migration Guide v3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/versions/baker-2/" class="md-nav__link">
        Migration Guide v2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../sections/feature-comparison/" class="md-nav__link">
        Feature comparison
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#httpgithubcomnikolakasev-ing" class="md-nav__link">
    http://github.com/nikolakasev | ING
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#symptoms-of-a-failing-restaurant" class="md-nav__link">
    Symptoms of a Failing Restaurant
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#symptoms-of-a-failing-microservices-architecture" class="md-nav__link">
    Symptoms of a Failing (Microservices) Architecture
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#afraid-to-change-the-application-code" class="md-nav__link">
    Afraid to change the application code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functionality-breaks-unexpectedly" class="md-nav__link">
    Functionality breaks unexpectedly
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#slow-time-to-market" class="md-nav__link">
    Slow time to market
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-turn-this-around" class="md-nav__link">
    How to turn this around?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simplify" class="md-nav__link">
    Simplify
  </a>
  
    <nav class="md-nav" aria-label="Simplify">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#domain-specific-language-for-orchestration-flows" class="md-nav__link">
    Domain Specific Language for orchestration flows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#declarative" class="md-nav__link">
    Declarative
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#easy-to-change" class="md-nav__link">
    Easy to change
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reuse" class="md-nav__link">
    Reuse
  </a>
  
    <nav class="md-nav" aria-label="Reuse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recipes" class="md-nav__link">
    Recipes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactions" class="md-nav__link">
    Interactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ingredients" class="md-nav__link">
    Ingredients
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    Events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#communicate" class="md-nav__link">
    Communicate
  </a>
  
    <nav class="md-nav" aria-label="Communicate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#visualize-your-code" class="md-nav__link">
    Visualize your code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-it-understand-as-well" class="md-nav__link">
    Non-IT understand as well
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reason-about-comfortably" class="md-nav__link">
    Reason About Comfortably
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-time" class="md-nav__link">
    Design-time
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-time" class="md-nav__link">
    Run-time
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#under-the-hood" class="md-nav__link">
    Under the Hood
  </a>
  
    <nav class="md-nav" aria-label="Under the Hood">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-scala" class="md-nav__link">
    Why Scala?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-akka" class="md-nav__link">
    Why Akka?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-petri-net3" class="md-nav__link">
    Why Petri net?^3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    Best Practices
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#short-lived-vs-long-running-flows" class="md-nav__link">
    Short-lived vs. long-running flows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#state-is-taken-care-of" class="md-nav__link">
    State is taken care of:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-baker-inside-of-your-api" class="md-nav__link">
    Run Baker inside of your API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smart-endpoints-and-dumb-pipes" class="md-nav__link">
    "Smart endpoints and dumb pipes"
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-failure-occurs" class="md-nav__link">
    When failure occurs:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#httpsgithubcoming-bankbaker" class="md-nav__link">
    https://github.com/ing-bank/baker
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="declare-verify-and-execute-microservices-based-process-flows-with-baker">Declare, verify and execute microservices-based process flows with Baker</h1>
<h3 id="httpgithubcomnikolakasev-ing">http://github.com/nikolakasev | ING</h3>
<hr />
<p><img alt="" src="../baby.jpg" /></p>
<hr />
<p><img alt="" src="../situation.jpg" /></p>
<hr />
<p><img alt="" src="../poffertjes.jpeg" /></p>
<hr />
<h2 id="symptoms-of-a-failing-restaurant">Symptoms of a Failing Restaurant</h2>
<hr />
<p><img alt="" src="../slow.jpg" /></p>
<hr />
<p><img alt="" src="../garbage.jpg" /></p>
<hr />
<p><img alt="" src="../enjoyable.jpg" /></p>
<hr />
<h2 id="symptoms-of-a-failing-microservices-architecture">Symptoms of a Failing (Microservices) Architecture</h2>
<hr />
<p><img alt="original" src="../afraid.jpg" /></p>
<h2 id="afraid-to-change-the-application-code">Afraid to change the application code</h2>
<hr />
<p><img alt="original" src="../breaks.jpg" /></p>
<h2 id="functionality-breaks-unexpectedly">Functionality breaks unexpectedly</h2>
<hr />
<p><img alt="original" src="../time-to-market.jpg" /></p>
<h2 id="slow-time-to-market">Slow time to market</h2>
<hr />
<h2 id="how-to-turn-this-around">How to turn this around?</h2>
<hr />
<p><img alt="" src="../gordon-ramsay.jpg" /></p>
<hr />
<p><img alt="" src="../simplify.jpg" /></p>
<hr />
<p><img alt="" src="../fresh.jpg" /></p>
<hr />
<p><img alt="" src="../communicate.jpg" /></p>
<hr />
<p><img alt="" src="../baker-github.png" /></p>
<hr />
<p><img alt="left" src="../simplify.jpg" /></p>
<h2 id="simplify">Simplify</h2>
<h3 id="domain-specific-language-for-orchestration-flows">Domain Specific Language for orchestration flows</h3>
<h3 id="declarative">Declarative</h3>
<h3 id="easy-to-change">Easy to change</h3>
<hr />
<p><img alt="left" src="../fresh.jpg" /></p>
<h2 id="reuse">Reuse</h2>
<h3 id="recipes">Recipes</h3>
<h3 id="interactions">Interactions</h3>
<h3 id="ingredients">Ingredients</h3>
<h3 id="events">Events</h3>
<hr />
<p><img alt="left" src="../communicate.jpg" /></p>
<h2 id="communicate">Communicate</h2>
<h3 id="visualize-your-code">Visualize your code</h3>
<h3 id="non-it-understand-as-well">Non-IT understand as well</h3>
<h3 id="reason-about-comfortably">Reason About Comfortably</h3>
<hr />
<h2 id="design-time">Design-time</h2>
<hr />
<p>```[.highlight: 1,6,7]
public interface RegisterIndividual extends Interaction {
    @FiresEvent(oneOf = {RegisterIndividualSuccessful.class,
            RegisterIndividualFailed.class})
    RegisterIndividualOutcome apply(
            @recipeInstanceId String recipeInstanceId,
            @RequiresIngredient("name") String name,
            @RequiresIngredient("address") String address
    );
}</p>
<div class="highlight"><pre><span></span><code>---

```[.highlight: 2,3]
public interface RegisterIndividual extends Interaction {
    @FiresEvent(oneOf = {RegisterIndividualSuccessful.class,
            RegisterIndividualFailed.class})
    RegisterIndividualOutcome apply(
            @recipeInstanceId String recipeInstanceId,
            @RequiresIngredient(&quot;name&quot;) String name,
            @RequiresIngredient(&quot;address&quot;) String address
    );
}
</code></pre></div>
<hr />
<p><img alt="" src="../individual.png" /></p>
<hr />
<p><img alt="" src="../account.png" /></p>
<hr />
<p><img alt="" src="../assign.png" /></p>
<hr />
<p>```java, [.highlight: 3-6]
public Recipe get(){
    return new Recipe("MuConf2017Demo").
            withInteractions(
                    of(AssignAccount.class),
                    of(GetAccount.class),
                    of(RegisterIndividual.class));
}
<div class="highlight"><pre><span></span><code>---

![fit](recipe-no-sensory.png)

---

```java, [.highlight: 5, 7-9]
return new Recipe(&quot;MuConf2017Demo&quot;).
        withInteractions(
                of(AssignAccount.class),
                of(GetAccount.class).
                        withRequiredEvent(TermsAndConditionsAccepted.class),
                of(RegisterIndividual.class)).
        withSensoryEvents(
                TermsAndConditionsAccepted.class,
                IndividualInformationSubmitted.class);
}
</code></pre></div></p>
<hr />
<p><img alt="fit" src="../recipe.png" /></p>
<hr />
<h2 id="run-time">Run-time</h2>
<hr />
<p>```java, [.highlight: 2,4,5,8,9,13]
//for each process instance, bake the recipe
baker.bake(recipeInstanceId);
//notify Baker when events occur
baker.processEvent(recipeInstanceId, new SensoryEvents.IndividualInformationSubmitted(name, address));
baker.processEvent(recipeInstanceId, new SensoryEvents.TermsAndConditionsAccepted());</p>
<p>//retrieve ingredients stored in the accumulated state
assert(baker.getIngredients(recipeInstanceId).get("customerId").equals(customerId));
assert(baker.getIngredients(recipeInstanceId).get("iban").equals(iban));</p>
<p>//retrieve all events that have occurred
Set<String> occurredEvents = new HashSet&lt;&gt;(
        baker.getEvents(recipeInstanceId).getEventNameList()
);
```</p>
<hr />
<p><img alt="fit" src="../end-state.png" /></p>
<hr />
<h2 id="under-the-hood">Under the Hood</h2>
<hr />
<h3 id="why-scala">Why Scala?</h3>
<ul>
<li>Best fit for developing DSLs<a href="https://martinfowler.com/books/dsl.html">^1</a> on the JVM</li>
<li>Compile-time recipe validation</li>
<li>Type safety</li>
</ul>
<hr />
<h3 id="why-akka">Why Akka?</h3>
<ul>
<li>Event Sourcing<a href="http://martinfowler.com/eaaDev/EventSourcing.html">^2</a> (events can be replayed)</li>
<li>Persistent actors (with Cassandra)</li>
<li>Distributed actors across machines (with cluster sharding)</li>
</ul>
<hr />
<h3 id="why-petri-net3">Why Petri net?<a href="https://en.wikipedia.org/wiki/Petri_net">^3</a></h3>
<hr />
<p><img alt="" src="../reachability.png" /></p>
<hr />
<p><img alt="" src="../unreachable.png" /></p>
<hr />
<p><img alt="" src="../dead-code.png" /></p>
<hr />
<p><img alt="" src="../path.png" /></p>
<hr />
<p><img alt="" src="../bottleneck.png" /></p>
<hr />
<h2 id="best-practices">Best Practices</h2>
<hr />
<h3 id="short-lived-vs-long-running-flows">Short-lived vs. long-running flows</h3>
<hr />
<h3 id="state-is-taken-care-of">State is taken care of:</h3>
<ul>
<li>Cassandra for persistent storage</li>
<li>Ingredients encrypted by default</li>
<li>State recovered automatically</li>
</ul>
<hr />
<h3 id="run-baker-inside-of-your-api">Run Baker inside of your API</h3>
<h3 id="smart-endpoints-and-dumb-pipes">"Smart endpoints and dumb pipes"</h3>
<hr />
<h3 id="when-failure-occurs">When failure occurs:</h3>
<ul>
<li>Baker retries technical failures with exponential backoff</li>
<li>Works well with <strong>idempotent</strong> services</li>
<li>Deal with functional failure in your recipe</li>
</ul>
<hr />
<p>Baker Capability Matrix:</p>
<ul>
<li>Investigate not one, not two, but <strong>all business processes</strong> in your company</li>
<li>Where do you see re-use?</li>
<li>Map using MoSCoW<a href="https://en.wikipedia.org/wiki/MoSCoW_method">^4</a> to give importance (M = 10, S = 5, C = 2, W = 1)</li>
</ul>
<hr />
<table>
<thead>
<tr>
<th align="left">Checking Account</th>
<th align="center">Savings Account</th>
<th align="right">Customer Onboarding</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Verify Identity</td>
<td align="center">Verify Identity</td>
<td align="right">Verify Identity</td>
</tr>
<tr>
<td align="left">Register Individual</td>
<td align="center">Register Individual</td>
<td align="right">Register Individual</td>
</tr>
<tr>
<td align="left">Open <em>Checking</em> Account</td>
<td align="center">Open <em>Savings</em> Account</td>
<td align="right"><code>n/a</code></td>
</tr>
<tr>
<td align="left">Issue Debit Card</td>
<td align="center"><code>n/a</code></td>
<td align="right"><code>n/a</code></td>
</tr>
<tr>
<td align="left">Send Message</td>
<td align="center">Send Message</td>
<td align="right">Send Message</td>
</tr>
<tr>
<td align="left">Register Product Owner</td>
<td align="center">Register Product Owner</td>
<td align="right"><code>n/a</code></td>
</tr>
</tbody>
</table>
<hr />
<p><img alt="" src="../call-to-action.jpg" /></p>
<h2 id="httpsgithubcoming-bankbaker">https://github.com/ing-bank/baker</h2>
<hr />
<p><img alt="" src="../pbt.png" /></p>
<hr />
<p>Speed of change matters to anyone building software. Many engineering teams have identified Microservices as an important component of this architectural approach to designing more flexible systems that can meet the needs of their fast changing businesses. Applying this approach however, is hard. And ideas and practices are still very much evolving. To help with that, we've launched muCon - a conference to learn about emerging technologies and approaches, share challenges and evolve practices and ideas.</p>
<hr />
<p>Their applications are built on top of microservices. If there careful enough their application serve bad meals. </p>
<p>If we are building microservices or a monolith or any type of service in general we are serving business logic to our clients. So no matter what we can not escape the architectural discussion.
If we are not careful of how we architect our applications we end up serving bad meals.</p>
<hr />
<p><strong>I love cooking food</strong> and for the rest of the talk I'll be using analogies from there. It's very <strong>similar to our industry</strong>: long hours, hard work, and delivering experiences to our customers.</p>
<p>Have you been woken up at 3 o'clock in the morning on a <strong>Saturday morning</strong> after a night of partying, having to go to the war room and resolve an application incident. I've been there. When I remember the cold of the <strong>airconditioners</strong>, it still <strong>makes me shiver</strong>.</p>
<p>If we are building microservices or a monolith or any type of application in general we are <strong>serving business logic to our clients</strong>. So no matter what, we cannot escape the <strong>architectural discussion</strong>. If we are not careful of how we architect our applications we end up serving a bad meal to our clients.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>